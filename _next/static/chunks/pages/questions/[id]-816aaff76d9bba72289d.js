(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[134],{9187:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});var n=t(5893),o=t(1664);function a(){return(0,n.jsxs)("nav",{children:[(0,n.jsx)(o.default,{href:"/",children:"Home"}),(0,n.jsx)(o.default,{href:"/explorer",children:"Explorer"}),(0,n.jsx)(o.default,{href:"/questions",children:"Questions"}),(0,n.jsx)(o.default,{href:"/about",children:"About"})]})}},132:function(e,r,t){"use strict";t.r(r),t.d(r,{__N_SSG:function(){return U},default:function(){return E}});var n=t(5893),o=t(9008),a=(t(1664),t(9187)),s=t(7294);var i=t(7757),c=t.n(i),l=t(6156),u=t(2137),p=t(9009),m=t(4831),d=t(4195),h=t(3023),f=t(5048),_=t(5358),b=t(9307),j=t(7226),g=t(3872),x=t(18);function y(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function v(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?y(Object(t),!0).forEach((function(r){(0,l.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function C(e){var r=e.data,t=e.col,o=r[t.key],a=t.format?t.format(o):o,s=t.rowClasses?"Cell "+t.rowClasses.join(" "):"Cell",i={background:t.rgb?t.alpha?"rgba(".concat(t.rgb,", ").concat(t.alpha(o),")"):"rgb(".concat(t.rgb,")"):"transparent"};return(0,n.jsx)("td",{className:s,style:i,children:a})}function w(e){var r=e.data,t=e.cols;return(0,n.jsx)("tr",{children:t.map((function(e,t){return(0,n.jsx)(C,{data:r,col:e},t)}))})}function k(e){var r=e.cols,t=e.sortCol,o=e.sortAsc,a=e.sortByCol,s=r.reduce((function(e,r){return e||r.group}),!1),i=r.filter((function(e){return e.group})).reduce((function(e,r){return v(v({},e),{},(0,l.Z)({},r.group,(e[r.group]||0)+1))}),{}),c=r.filter((function(e){return e.group})).reduce((function(e,r){return v(v({},e),{},(0,l.Z)({},r.group,r.key))}),{}),u=r.filter((function(e){return!e.group||c[e.group]===e.key})),p=s?(0,n.jsx)("tr",{children:u.map((function(e,r){var t=i[e.group]||1;return(0,n.jsx)("th",{className:"GroupHeader",colSpan:t,children:e.group},r)}))}):null;return(0,n.jsxs)("thead",{children:[p,(0,n.jsx)("tr",{children:r.map((function(e,r){return(0,n.jsxs)("th",{className:t===e.key?"Sorted":"",onClick:function(r){a(e.key)},children:[(0,n.jsx)("span",{children:e.name}),(0,n.jsx)("span",{className:"SortArrow",children:o?"\u25bc":"\u25b2"})]},r)}))})]})}function D(e){var r=(0,x.Z)(e.rows),t=(0,s.useState)(null),o=t[0],a=t[1],i=(0,s.useState)(!1),c=i[0],l=i[1],u=(0,s.useState)(0),p=u[0],m=u[1];var d=null!==o?r.sort((function(e,r){var t=e[o],n=r[o];return t.localeCompare&&n.localeCompare?c?t.localeCompare(n):n.localeCompare(t):c?t-n:n-t})):(0,x.Z)(r);return(0,n.jsx)("div",{className:"TableContainer",children:(0,n.jsxs)("table",{children:[(0,n.jsx)(k,{cols:e.cols,sortCol:o,sortAsc:c,sortByCol:function(e){e==o?p>=2?(a(null),l(!1),m(0)):(l(!c),m(p+1)):(a(e),l(!1),m(1))}}),(0,n.jsx)("tbody",{children:d.map((function(r,t){return(0,n.jsx)(w,{data:r,cols:e.cols},t)}))})]})})}var O=t(3743);function S(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function N(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?S(Object(t),!0).forEach((function(r){(0,l.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var T={Central:"#332288","Far North Side":"#1978AD","Far Southeast Side":"#117733","Far Southwest Side":"#44AA99","North Side":"#88CCEE","Northwest Side":"#DCA139","South Side":"#CC6677","Southwest Side":"#AA4499","West Side":"#882255"},P=[{key:"area_number",group:"Pickup Community Area",name:"#"},{key:"name",group:"Pickup Community Area",name:"Name"},{key:"part",group:"Pickup Community Area",name:"Part"},{key:"pooled_trip_rate_before",group:"Pooled Trips",name:"% of Trips",format:O.Mb.percentWithOneDecimal,rowClasses:["right"]},{key:"avg_trips_per_day_before",group:"Trips/Day",name:"Before",format:O.Mb.numberWithCommas,rowClasses:["right"]},{key:"avg_trips_per_day_since",group:"Trips/Day",name:"Since",format:O.Mb.numberWithCommas,rowClasses:["right"]},{key:"pct_change_avg_trips",group:"Trips/Day",name:"Change",format:O.Mb.percentChangeWithNoDecimal,rowClasses:["right"],rgb:"136, 34, 85",alpha:function(e){return e/-.8}},{key:"avg_cost_per_trip_cents_before",group:"Cost/Trip",name:"Before",format:O.Mb.centsToDollarsUSD,rowClasses:["right"]},{key:"avg_cost_per_trip_cents_since",group:"Cost/Trip",name:"Since",format:O.Mb.centsToDollarsUSD,rowClasses:["right"]},{key:"pct_change_avg_cost",group:"Cost/Trip",name:"Change",format:O.Mb.percentChangeWithNoDecimal,rowClasses:["right"],rgb:"17, 119, 51",alpha:function(e){return e/.3}}];function W(){return F.apply(this,arguments)}function F(){return(F=(0,u.Z)(c().mark((function e(){var r,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://transithealth.herokuapp.com","/question/pooled_trips"));case 2:return r=e.sent,e.next=5,r.json();case 5:return t=e.sent,e.abrupt("return",t.metrics);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return e.map((function(e){return N(N({},e),{},{pct_change_avg_trips:(0,O.gB)(e.avg_trips_per_day_before,e.avg_trips_per_day_since),pct_change_avg_cost:(0,O.gB)(e.avg_cost_per_trip_cents_before,e.avg_cost_per_trip_cents_since)})}))}function M(e){return e.sort((function(e,r){return r.pooled_trip_rate_before-e.pooled_trip_rate_before})).sort((function(e,r){return e.part.localeCompare(r.part)})).map((function(e){return N(N({},e),{},(0,l.Z)({},e.part,e.pooled_trip_rate_before))}))}function I(e){var r=e.data;return(0,n.jsx)(p.h,{width:"100%",height:400,children:(0,n.jsxs)(m.v,{data:r,margin:{left:30,right:30,bottom:30,top:30},children:[(0,n.jsx)(d.q,{strokeDashArray:"3 3"}),(0,n.jsx)(h.K,{dataKey:"name",tick:{dy:5},children:(0,n.jsx)(f._,{value:"Pickup Community Area",position:"bottom",offset:10})}),(0,n.jsx)(_.B,{type:"number",tickFormatter:O.Mb.percentWithNoDecimal,children:(0,n.jsx)(f._,{value:"Pooled Trip Rate",position:"left",angle:-90,offset:15,style:{textAnchor:"middle"}})}),(0,n.jsx)(b.u,{formatter:function(e,r,t){return[O.Mb.percentWithOneDecimal(e),"Pooled Trip Rate",t]}}),Object.keys(T).map((function(e,r){return(0,n.jsx)(j.$,{dataKey:e,stackId:"a",fill:T[e]},r)})),(0,n.jsx)(g.D,{layout:"horizontal",verticalAlign:"top",align:"center",wrapperStyle:{top:5}})]})})}var R={sample:function(){return(0,n.jsx)("div",{children:(0,n.jsx)("p",{children:"This is my question content!"})})},"pooled-trips":function(e){var r=(0,s.useState)([]),t=r[0],o=r[1],a=(0,s.useState)([]),i=a[0],l=a[1];(0,s.useEffect)((function(){var r=!0;function t(){return(t=(0,u.Z)(c().mark((function t(){var n,a,s;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setContentIsLoading(!0),t.next=3,W();case 3:n=t.sent,a=A(n),s=M(a),r&&(e.setContentIsLoading(!1),o(a),l(s));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){return r=!1}}),[]);var p=t.sort((function(e,r){return r.pooled_trip_rate_before-e.pooled_trip_rate_before})),m=p[0],d=p[p.length-1],h=p.length>1?(0,n.jsxs)("p",{className:"center",children:[(0,n.jsx)("span",{className:"bold",children:m.name}),(0,n.jsx)("span",{children:" has the highest rate of pooled trips ("}),(0,n.jsx)("span",{className:"bold",children:O.Mb.percentWithOneDecimal(m.pooled_trip_rate_before)}),(0,n.jsx)("span",{children:") while "}),(0,n.jsx)("span",{className:"bold",children:d.name}),(0,n.jsx)("span",{children:" has the lowest ("}),(0,n.jsx)("span",{className:"bold",children:O.Mb.percentWithOneDecimal(d.pooled_trip_rate_before)}),(0,n.jsx)("span",{children:")."})]}):null;return(0,n.jsxs)("div",{className:"QuestionPooledTrips",children:[(0,n.jsxs)("div",{className:"center medium-width",children:[(0,n.jsx)("h2",{children:"Pooled Trip Rates by Community Area"}),(0,n.jsx)("p",{children:"This chart shows the percentage of all rides that were pooled in the year before COVID, by community area where the rider was picked up."})]}),(0,n.jsx)(I,{data:i}),h,(0,n.jsx)("br",{}),(0,n.jsxs)("div",{className:"center medium-width",children:[(0,n.jsx)("h2",{children:"Change Since COVID"}),(0,n.jsx)("p",{children:"This table shows how the average number of trips per day and average cost per trip has changed in each community area since COVID."}),(0,n.jsxs)("p",{children:[(0,n.jsx)("span",{className:"bold",children:"Before"}),(0,n.jsx)("span",{children:" is the 12-month period from February 2019-2020."})]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("span",{className:"bold",children:"After"}),(0,n.jsx)("span",{children:" is the 12-month period from March 2020-2021."})]})]}),(0,n.jsx)(D,{rows:t,cols:P})]})}};var U=!0;function E(e){var r=(0,s.useState)(!0),t=r[0],i=r[1],c=R[e.component];return(0,n.jsxs)("div",{children:[(0,n.jsxs)(o.default,{children:[(0,n.jsx)("title",{children:"TransitHealth"}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,n.jsx)("meta",{name:"description",content:"Explore transit and public health data across Chicago."}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsx)(a.Z,{}),(0,n.jsx)("main",{className:"QuestionLayout",children:(0,n.jsxs)("div",{className:"page",children:[(0,n.jsxs)("div",{className:"center medium-width",children:[(0,n.jsx)("h1",{children:e.title}),(0,n.jsxs)("p",{children:["By ",e.author]}),(0,n.jsx)("p",{children:e.description}),(0,n.jsx)("hr",{})]}),(0,n.jsx)("div",{className:t?"block":"hidden",children:(0,n.jsx)("p",{className:"center",children:"Loading..."})}),(0,n.jsx)("div",{className:t?"hidden":"block",children:(0,n.jsx)(c,{setContentIsLoading:i})}),(0,n.jsx)("br",{})]})})]})}},3743:function(e,r,t){"use strict";t.d(r,{gB:function(){return o},Mb:function(){return a},fH:function(){return s},xR:function(){return i},QA:function(){return c},mv:function(){return l}});var n=Intl.NumberFormat("en-US");function o(e,r){return(r-e)/e}var a={numberWithCommas:function(e){return n.format(e)},numberInThousands:function(e){return n.format((e/1e3).toFixed(1))+"K"},numberInMillions:function(e){return n.format((e/1e6).toFixed(1))+"M"},percentWithNoDecimal:function(e){return(100*e).toFixed(0)+"%"},percentWithOneDecimal:function(e){return(100*e).toFixed(1)+"%"},dollarsUSD:function(e){return"$"+e.toFixed(2)},centsToDollarsUSD:function(e){return"$"+(e/100).toFixed(2)},percentChangeWithNoDecimal:function(e){return(e>=0?"+":"")+(100*e).toFixed(0)+"%"},percentChangeWithOneDecimal:function(e){return(e>=0?"+":"")+(100*e).toFixed(1)+"%"}},s={rideshare_pickups_covid:{name:"Rideshare Pickups Since March 2020",units:"trips",format:a.numberInMillions,fullFormat:a.numberWithCommas},rideshare_pooled_trip_rate_2018:{name:"2018 Rideshare Pooled Trip Rate",units:"of trips",format:a.percentWithNoDecimal,fullFormat:a.percentWithOneDecimal},rideshare_pooled_trip_rate_2019:{name:"2019 Rideshare Pooled Trip Rate",units:"of trips",format:a.percentWithNoDecimal,fullFormat:a.percentWithOneDecimal},rideshare_pool_request_rate_2018:{name:"2018 Rideshare Pool Request Rate",units:"of trips",format:a.percentWithNoDecimal,fullFormat:a.percentWithOneDecimal},rideshare_pool_request_rate_2019:{name:"2019 Rideshare Pool Request Rate",units:"of trips",format:a.percentWithNoDecimal,fullFormat:a.percentWithOneDecimal},total_population_2000:{name:"2000 Total Population",units:"people",format:a.numberInThousands,fullFormat:a.numberWithCommas},total_population_2010:{name:"2010 Total Population",units:"people",format:a.numberInThousands,fullFormat:a.numberWithCommas},total_population_2019:{name:"2019 Total Population",units:"people",format:a.numberInThousands,fullFormat:a.numberWithCommas},median_income_2010:{name:"2010 Median Income",units:"dollars",format:a.dollarsUSD,fullFormat:a.dollarsUSD},median_income_2019:{name:"2019 Median Income",units:"dollars",format:a.dollarsUSD,fullFormat:a.dollarsUSD},total_covid_cases:{name:"Total COVID Cases",units:"cases",format:a.numberInThousands,fullFormat:a.numberWithCommas}},i={weekly_rideshare_pickups:{name:"Weekly Rideshare Pickups",units:"trips",format:a.numberInThousands,fullFormat:a.numberWithCommas},weekly_rideshare_pickups_covid:{name:"Weekly Rideshare Pickups Since March 2020",units:"trips",format:a.numberInThousands,fullFormat:a.numberWithCommas},weekly_rideshare_avg_cost:{name:"Weekly Rideshare Avg. Cost",units:"USD",format:a.centsToDollarsUSD,fullFormat:a.centsToDollarsUSD},weekly_rideshare_avg_cost_covid:{name:"Weekly Rideshare Avg. Cost Since March 2020",units:"USD",format:a.centsToDollarsUSD,fullFormat:a.centsToDollarsUSD},weekly_covid_cases:{name:"Weekly COVID Cases",units:"cases",format:a.numberWithCommas,fullFormat:a.numberWithCommas}},c={metricX:"total_population_2019",metricY:"total_covid_cases"},l={metricToAdd:"weekly_rideshare_pickups",defaultMetrics:[{id:"weekly_rideshare_pickups",axis:"left"},{id:"weekly_covid_cases",axis:"right"}]}},7277:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/questions/[id]",function(){return t(132)}])}},function(e){e.O(0,[774,351,996,577,670],(function(){return r=7277,e(e.s=r);var r}));var r=e.O();_N_E=r}]);