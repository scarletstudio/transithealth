(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[134],{2815:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(5893),a=r(7294),i=r(8911),o=r(2787),s=r(3909),c=r(1084);function l(e){var t=e.width?e.width:e.height?.8*e.height:300,r=e.height?e.height:e.width?e.width/.8:375,l=[t/2,r/2],d=t/300,u=r/375,h=e.scale||4e4*Math.max(d,u),p=e.offsetX||-.0475,m=(0,i.Z)(e.communityAreas),f=[m[0]+p,m[1]],j=(0,o.ZP)().center(f).scale(h).translate(l),b=e.defaultOpacity||1,y=e.onAreaClick?(0,c.D)(100,e.onAreaClick):null,g=e.onAreaHover?(0,c.D)(100,e.onAreaHover):null,_=e.communityAreas.features,x=e.data||{},v=(0,a.useState)(e.selectedAreaNumber),O=v[0],w=v[1];(0,a.useEffect)((function(){w(e.selectedAreaNumber)}),[e.selectedAreaNumber]);var P=["ChicagoMap",Object.keys(x).length>0?"HasData":"NoData"].join(" ");return(0,n.jsx)("div",{className:P,children:(0,n.jsx)("svg",{width:t,height:r,viewBox:"0 0 ".concat(t," ").concat(r),children:(0,n.jsx)("g",{className:"areas",children:_.map((function(e,t){var r=e.properties,a=x[r.number]||{};return(0,n.jsx)("path",{className:"CommunityArea ".concat(O===r.number?"Selected":""),d:(0,s.Z)().projection(j)(e),fill:a.fill,fillOpacity:a.opacity||b,onClick:function(e){w(r.number),y&&y(r)},onMouseEnter:function(e){g&&g(r)}},"path-".concat(t))}))})})})}},3778:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return ht},default:function(){return pt}});var n=r(5893),a=r(9008),i=r(9187),o=r(8047),s=r(7294);var c=r(6156),l=r(1009),d=r(9009),u=r(2931),h=r(6208),p=r(3815),m=r(9307),f=r(3872),j={TransitGreen:"#099178",HealthPink:"#FF4F98",Success:"#099178",Failure:"#CC6677",DarkGray:"#263238",Indigo:"#332288",Cerulean:"#1978AD",Forest:"#117733",Teal:"#44AA99",Sky:"#88CCEE",Gold:"#DCA139",Salmon:"#CC6677",Magenta:"#AA4499",Maroon:"#882255"},b=r(3743);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _="".concat("https://transithealth.herokuapp.com","/fake/data/example-pie-chart"),x={rail:{name:"CTA Rail",color:j.Forest},bus:{name:"CTA Bus",color:j.Cerulean},rideshare:{name:"Rideshare",color:j.Indigo},"e-scooter":{name:"E-Scooter",color:j.Salmon}},v={name:"?",totalTripsFormatted:"?"};function O(e){var t=e.data;return(0,n.jsx)(d.h,{width:"100%",height:400,children:(0,n.jsxs)(u.u,{width:400,height:400,margin:{bottom:30},children:[(0,n.jsx)(h.b,{data:t,nameKey:"name",dataKey:"total_trips_2019",label:!0,cx:"50%",cy:"50%",fill:"",outerRadius:150,children:t.map((function(e,t){return(0,n.jsx)(p.b,{fill:e.color},"cell-".concat(t))}))}),(0,n.jsx)(m.u,{}),(0,n.jsx)(f.D,{layout:"horizontal",verticalAlign:"top",align:"center",wrapperStyle:{bottom:-10}})]})})}var w=r(4699),P=r(4831),D=r(4195),C=r(3023),k=r(5048),S=r(5358),N=r(7226),T=r(7329);function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e){var t=e.data,r=e.col,a=t[r.key],i=r.format?r.format(a):a,o=r.rowClasses?"Cell "+r.rowClasses.join(" "):"Cell",s={background:r.rgb?r.alpha?"rgba(".concat(r.rgb,", ").concat(r.alpha(a),")"):"rgb(".concat(r.rgb,")"):"transparent"};return(0,n.jsx)("td",{className:o,style:s,children:i})}function F(e){var t=e.data,r=e.cols;return(0,n.jsx)("tr",{children:r.map((function(e,r){return(0,n.jsx)(E,{data:t,col:e},r)}))})}function W(e){var t=e.cols,r=e.sortCol,a=e.sortAsc,i=e.sortByCol,o=t.reduce((function(e,t){return e||t.group}),!1),s=t.filter((function(e){return e.group})).reduce((function(e,t){return M(M({},e),{},(0,c.Z)({},t.group,(e[t.group]||0)+1))}),{}),l=t.filter((function(e){return e.group})).reduce((function(e,t){return M(M({},e),{},(0,c.Z)({},t.group,t.key))}),{}),d=t.filter((function(e){return!e.group||l[e.group]===e.key})),u=o?(0,n.jsx)("tr",{children:d.map((function(e,t){var r=s[e.group]||1;return(0,n.jsx)("th",{className:"GroupHeader",colSpan:r,children:e.group},t)}))}):null;return(0,n.jsxs)("thead",{children:[u,(0,n.jsx)("tr",{children:t.map((function(e,t){return(0,n.jsxs)("th",{className:r===e.key?"Sorted":"",onClick:function(t){i(e.key)},children:[(0,n.jsx)("span",{children:e.name}),(0,n.jsx)("span",{className:"SortArrow",children:a?"\u25bc":"\u25b2"})]},t)}))})]})}function I(e){var t=(0,T.Z)(e.rows),r=(0,s.useState)(null),a=r[0],i=r[1],o=(0,s.useState)(!1),c=o[0],l=o[1],d=(0,s.useState)(0),u=d[0],h=d[1];var p=null!==a?t.sort((function(e,t){var r=e[a],n=t[a];return r.localeCompare&&n.localeCompare?c?r.localeCompare(n):n.localeCompare(r):c?r-n:n-r})):(0,T.Z)(t);return(0,n.jsx)("div",{className:"TableContainer",children:(0,n.jsxs)("table",{children:[(0,n.jsx)(W,{cols:e.cols,sortCol:a,sortAsc:c,sortByCol:function(e){e==a?u>=2?(i(null),l(!1),h(0)):(l(!c),h(u+1)):(i(e),l(!1),h(1))}}),(0,n.jsx)("tbody",{children:p.map((function(t,r){return(0,n.jsx)(F,{data:t,cols:e.cols},r)}))})]})})}function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var B="".concat("https://transithealth.herokuapp.com","/question/pooled_trips"),L={Central:"#332288","Far North Side":"#1978AD","Far Southeast Side":"#117733","Far Southwest Side":"#44AA99","North Side":"#88CCEE","Northwest Side":"#DCA139","South Side":"#CC6677","Southwest Side":"#AA4499","West Side":"#882255"},K=[{key:"area_number",group:"Pickup Community Area",name:"#"},{key:"name",group:"Pickup Community Area",name:"Name"},{key:"part",group:"Pickup Community Area",name:"Part"},{key:"pooled_trip_rate_before",group:"Pooled Trips",name:"% of Trips",format:b.Mb.percentWithOneDecimal,rowClasses:["right"]},{key:"avg_trips_per_day_before",group:"Trips/Day",name:"Before",format:b.Mb.numberWithCommas,rowClasses:["right"]},{key:"avg_trips_per_day_since",group:"Trips/Day",name:"Since",format:b.Mb.numberWithCommas,rowClasses:["right"]},{key:"pct_change_avg_trips",group:"Trips/Day",name:"Change",format:b.Mb.percentChangeWithNoDecimal,rowClasses:["right"],rgb:"136, 34, 85",alpha:function(e){return e/-.8}},{key:"avg_cost_per_trip_cents_before",group:"Cost/Trip",name:"Before",format:b.Mb.centsToDollarsUSD,rowClasses:["right"]},{key:"avg_cost_per_trip_cents_since",group:"Cost/Trip",name:"Since",format:b.Mb.centsToDollarsUSD,rowClasses:["right"]},{key:"pct_change_avg_cost",group:"Cost/Trip",name:"Change",format:b.Mb.percentChangeWithNoDecimal,rowClasses:["right"],rgb:"17, 119, 51",alpha:function(e){return e/.3}}];function H(e){if(e){var t=function(e){return e.map((function(e){return R(R({},e),{},{pct_change_avg_trips:(0,b.gB)(e.avg_trips_per_day_before,e.avg_trips_per_day_since),pct_change_avg_cost:(0,b.gB)(e.avg_cost_per_trip_cents_before,e.avg_cost_per_trip_cents_since)})}))}(e.metrics),r=function(e){return e.sort((function(e,t){return t.pooled_trip_rate_before-e.pooled_trip_rate_before})).sort((function(e,t){return e.part.localeCompare(t.part)})).map((function(e){return R(R({},e),{},(0,c.Z)({},e.part,e.pooled_trip_rate_before))}))}(t);return[t,r]}return[[],[]]}function J(e){var t=e.data;return(0,n.jsx)(d.h,{width:"100%",height:400,children:(0,n.jsxs)(P.v,{data:t,margin:{left:30,right:30,bottom:30,top:30},children:[(0,n.jsx)(D.q,{strokeDashArray:"3 3"}),(0,n.jsx)(C.K,{dataKey:"name",tick:{dy:5},children:(0,n.jsx)(k._,{value:"Pickup Community Area",position:"bottom",offset:10})}),(0,n.jsx)(S.B,{type:"number",tickFormatter:b.Mb.percentWithNoDecimal,children:(0,n.jsx)(k._,{value:"Pooled Trip Rate",position:"left",angle:-90,offset:15,style:{textAnchor:"middle"}})}),(0,n.jsx)(m.u,{formatter:function(e,t,r){return[b.Mb.percentWithOneDecimal(e),"Pooled Trip Rate",r]}}),Object.keys(L).map((function(e,t){return(0,n.jsx)(N.$,{dataKey:e,stackId:"a",fill:L[e]},t)})),(0,n.jsx)(f.D,{layout:"horizontal",verticalAlign:"top",align:"center",wrapperStyle:{top:5}})]})})}function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var z="".concat("https://transithealth.herokuapp.com","/rideshare/total_trips_by_pickup_part_and_year"),V={Central:"#332288","Far North Side":"#1978AD","Far Southeast Side":"#117733","Far Southwest Side":"#44AA99","North Side":"#88CCEE","Northwest Side":"#DCA139","South Side":"#CC6677","Southwest Side":"#AA4499","West Side":"#882255"},Y={name:"?",totalTripsFormatted:"?"};function Q(e){var t=e.data;return(0,n.jsx)(d.h,{width:"100%",height:400,children:(0,n.jsxs)(u.u,{width:400,height:400,margin:{bottom:30},children:[(0,n.jsx)(h.b,{data:t,nameKey:"pickup_part",dataKey:"total_trips",label:!0,cx:"50%",cy:"50%",fill:"",outerRadius:150,children:t.map((function(e,t){return(0,n.jsx)(p.b,{fill:e.color},"cell-".concat(t))}))}),(0,n.jsx)(m.u,{}),(0,n.jsx)(f.D,{layout:"horizontal",verticalAlign:"top",align:"center",wrapperStyle:{bottom:-10}})]})})}function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var X="".concat("https://transithealth.herokuapp.com","/community/metrics"),ee={name:"?",part:"?",disability_rate_formatted:"?"};function te(e){var t=e.data;return(0,n.jsx)(d.h,{width:"100%",height:400,children:(0,n.jsxs)(u.u,{width:400,height:400,margin:{bottom:30},children:[(0,n.jsx)(h.b,{data:t,nameKey:"label",dataKey:"value",label:!0,cx:"50%",cy:"50%",fill:"",outerRadius:150,children:t.map((function(e,t){return(0,n.jsx)(p.b,{fill:e.color},"cell-".concat(t))}))}),(0,n.jsx)(m.u,{}),(0,n.jsx)(f.D,{layout:"horizontal",verticalAlign:"top",align:"center",wrapperStyle:{bottom:-10}})]})})}function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ae="".concat("https://transithealth.herokuapp.com","/community/metrics"),ie={name:"?",belongingRateFormatted:"?"};function oe(e){var t,r=e.data;if(null===r||void 0===r||null===(t=r[0])||void 0===t||!t.value)return null;var a={backgroundColor:"white",borderColor:"LightGrey",borderStyle:"solid",borderWidth:"thin"},i=function(e){var t=e.active,r=e.payload;e.label;return t&&r&&r.length?(0,n.jsx)("div",{className:"custom-tooltip",style:a,children:(0,n.jsx)("p",{className:"label",children:"".concat(r[0].name," : ").concat(r[0].payload.valueFormatted)})}):null},o=Math.PI/180;return(0,n.jsx)(d.h,{width:"100%",height:400,children:(0,n.jsxs)(u.u,{width:400,height:400,margin:{bottom:30},children:[(0,n.jsx)(h.b,{data:r,nameKey:"label",dataKey:"value",label:function(e){var t=e.cx,r=e.cy,a=e.midAngle,i=e.innerRadius,s=e.outerRadius,c=e.color,l=e.valueFormatted,d=(e.index,25+i+(s-i)),u=t+d*Math.cos(-a*o),h=r+d*Math.sin(-a*o);return(0,n.jsx)("text",{x:u,y:h,fill:c,textAnchor:u>t?"start":"end",dominantBaseline:"central",children:"".concat(l)})},cx:"50%",cy:"50%",fill:"",outerRadius:150,children:r.map((function(e,t){return(0,n.jsx)(p.b,{fill:e.color},"cell-".concat(t))}))}),(0,n.jsx)(m.u,{content:(0,n.jsx)(i,{})}),(0,n.jsx)(f.D,{layout:"horizontal",verticalAlign:"top",align:"center",wrapperStyle:{bottom:-10}})]})})}function se(e){if(!e.data)return(0,n.jsx)("p",{children:"Waiting for data..."});return(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{children:"Select an Area of Interest"}),(0,n.jsx)("select",{onChange:function(t){return e.handleChange(parseInt(t.target.value))},children:e.data.metrics.map((function(e,t){return(0,n.jsx)("option",{value:e.area_number,children:e.name},t)}))})]})}function ce(e){var t=e.areaData;return t?t.belonging_rate_2018?(0,n.jsxs)("span",{children:["Based on the data from 2018, ",t.belongingRateFormatted," of people in ",t.name," agree or strongly agree that they feel a sense of belonging in their community"]}):(0,n.jsxs)("span",{children:["There is no data for ",t.name]}):(0,n.jsx)("p",{children:"Waiting for data..."})}function le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?le(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ue="".concat("https://transithealth.herokuapp.com","/community/metrics"),he={name:"?",rentBurdenRateFormatted:"?"};function pe(e){var t,r=e.data;if(null===r||void 0===r||null===(t=r[0])||void 0===t||!t.value)return null;var a={backgroundColor:"white",borderColor:"LightGrey",borderStyle:"solid",borderWidth:"thin"},i=function(e){var t=e.active,r=e.payload;e.label;return t&&r&&r.length?(0,n.jsx)("div",{className:"custom-tooltip",style:a,children:(0,n.jsx)("p",{className:"label",children:"".concat(r[0].name," : ").concat(r[0].payload.valueFormatted)})}):null},o=Math.PI/180;return(0,n.jsx)(d.h,{width:"100%",height:400,children:(0,n.jsxs)(u.u,{width:400,height:400,margin:{bottom:30},children:[(0,n.jsx)(h.b,{data:r,nameKey:"label",dataKey:"value",label:function(e){var t=e.cx,r=e.cy,a=e.midAngle,i=e.innerRadius,s=e.outerRadius,c=e.color,l=e.valueFormatted,d=(e.index,25+i+(s-i)),u=t+d*Math.cos(-a*o),h=r+d*Math.sin(-a*o);return(0,n.jsx)("text",{x:u,y:h,fill:c,textAnchor:u>t?"start":"end",dominantBaseline:"central",children:"".concat(l)})},cx:"50%",cy:"50%",fill:"",outerRadius:150,children:r.map((function(e,t){return(0,n.jsx)(p.b,{fill:e.color},"cell-".concat(t))}))}),(0,n.jsx)(m.u,{content:(0,n.jsx)(i,{})}),(0,n.jsx)(f.D,{layout:"horizontal",verticalAlign:"top",align:"center",wrapperStyle:{bottom:-10}})]})})}function me(e){if(!e.data)return(0,n.jsx)("p",{children:"Waiting for data..."});return(0,n.jsxs)("div",{style:{display:"inline-block"},children:[(0,n.jsx)("p",{children:"Select the Year"}),(0,n.jsx)("select",{onChange:function(t){return e.handleChange(parseInt(t.target.value))},children:e.data.map((function(e,t){return(0,n.jsx)("option",{value:e,children:e},t)}))})]})}function fe(e){if(!e.data)return(0,n.jsx)("p",{children:"Waiting for data..."});return(0,n.jsxs)("div",{style:{display:"inline-block"},children:[(0,n.jsx)("p",{children:"Select an Area of Interest"}),(0,n.jsx)("select",{onChange:function(t){return e.handleChange(parseInt(t.target.value))},children:e.data.metrics.map((function(e,t){return(0,n.jsx)("option",{value:e.area_number,children:e.name},t)}))})]})}function je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?je(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ye="".concat("https://transithealth.herokuapp.com","/timeline/metrics"),ge={year:"?",numberOfPermitsFormatted:"?"};function _e(e){var t=e.data;return(0,n.jsx)(d.h,{width:"100%",height:400,children:(0,n.jsxs)(P.v,{width:400,height:400,data:t,margin:{bottom:30},children:[(0,n.jsx)(D.q,{strokeDasharray:"3 3"}),(0,n.jsx)(C.K,{dataKey:"year"}),(0,n.jsx)(S.B,{}),(0,n.jsx)(N.$,{nameKey:"year",dataKey:"yearly_sidewalk_cafe_permit",fill:"#000000",children:t.map((function(e,t){return(0,n.jsx)(p.b,{fill:e.color},"cell-".concat(t))}))}),(0,n.jsx)(m.u,{}),(0,n.jsx)(f.D,{layout:"horizontal",verticalAlign:"top",align:"center",wrapperStyle:{bottom:-10}})]})})}var xe=r(7757),ve=r.n(xe),Oe=r(2137),we=new Intl.DateTimeFormat("en-US",{month:"long",day:"numeric",year:"numeric"}),Pe="".concat("https://transithealth.herokuapp.com","/question/sidewalk_search"),De=[{key:"doing_business_as_name",name:"Business Name"},{key:"zip_code",name:"Zip Code"},{key:"issued_date_dt",name:"Issued On",format:function(e){return we.format(new Date("".concat(e," ")))}},{key:"expiration_date",name:"Expires On",format:function(e){return we.format(new Date(e))}}];function Ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Se="".concat("https://transithealth.herokuapp.com","/question/disabilities"),Ne=[{key:"station_id",group:"Station",name:"ID"},{key:"station_name",group:"Station",name:"Name"},{key:"ada",group:"Station",name:"ADA"},{key:"avg_trips_before",group:"Rides/Day",name:"Before",format:b.Mb.numberWithCommas,rowClasses:["right"]},{key:"avg_trips_since",group:"Rides/Day",name:"Since",format:b.Mb.numberWithCommas,rowClasses:["right"]},{key:"pct_change_avg_trips",group:"Rides/Day",name:"Change",format:b.Mb.percentChangeWithNoDecimal,rowClasses:["right"],rgb:"136, 34, 85",alpha:function(e){return e/-1}}],Te=[{key:"ada",name:"ADA"},{key:"num_stations",name:"Num Stations"},{key:"avg_trips_before",name:"AVG Trips Before",format:b.Mb.numberWithCommas},{key:"avg_trips_since",name:"AVG Trips After",format:b.Mb.numberWithCommas},{key:"pct_change_avg_trips",name:"%Change",format:b.Mb.percentChangeWithOneDecimal}];function Ae(e){return e.map((function(e){var t=1==e.ada?"Yes":"No",r=(0,b.gB)(e.avg_trips_before,e.avg_trips_since);return ke(ke({},e),{},(0,c.Z)({pct_change_avg_trips:r,ada:t},t,r))}))}function Me(e){var t=e.data;return console.log(t),(0,n.jsx)(d.h,{width:"100%",height:400,children:(0,n.jsxs)(P.v,{data:t,margin:{left:45,right:45,bottom:30,top:30},children:[(0,n.jsx)(D.q,{strokeDashArray:"3 3"}),(0,n.jsx)(C.K,{dataKey:"ada",tick:{dy:5},children:(0,n.jsx)(k._,{value:"Accessible",position:"bottom",offset:5})}),(0,n.jsx)(S.B,{type:"number",tickFormatter:b.Mb.numberInThousands(),children:(0,n.jsx)(k._,{value:"Average Ridership",position:"left",angle:-90,offset:27,style:{textAnchor:"middle"}})}),(0,n.jsx)(m.u,{formatter:function(e,t,r){return[b.Mb.numberInThousands(e),t,r]}}),(0,n.jsx)(N.$,{name:"Avg Trips Before",dataKey:"avg_trips_before",fill:j.Forest}),(0,n.jsx)(N.$,{name:"Avg Trips Since",dataKey:"avg_trips_since",fill:j.Magenta}),(0,n.jsx)(f.D,{layout:"horizontal",verticalAlign:"top",align:"center",wrapperStyle:{top:5}})]})})}var Ee="".concat("https://transithealth.herokuapp.com","/question/taxitrips"),Fe=[{key:"pickup_community_area",name:"Pickup Location"},{key:"dropoff_community_area",name:"Most Common Dropoff Location",rowClasses:["center"]},{key:"max_count",name:"# of Dropoffs",rowClasses:["center"],rgb:"255, 165, 0",alpha:function(e){return e/200}},{key:"percentage",name:"% from Total Dropoffs",format:b.Mb.percentWithOneDecimal,rowClasses:["center"],rgb:"136, 34, 85",alpha:function(e){return e/.5}}];var We="".concat("https://transithealth.herokuapp.com","/question/taxitrips"),Ie=[{key:"pickup_community_area",name:"Pickup Location"},{key:"payment_type",name:"Payment Method",rowClasses:["center"]},{key:"max_count",name:"# of Payments",rowClasses:["center"],rgb:"255, 165, 0",alpha:function(e){return e/450}},{key:"percentage",name:"% from Total Taxi Rides",format:b.Mb.percentWithOneDecimal,rowClasses:["center"],rgb:"136, 34, 85",alpha:function(e){return e/.7}}],Ze=[{key:"dropoff_community_area",name:"Dropoff Location"},{key:"payment_type",name:"Payment Method",rowClasses:["center"]},{key:"max_count",name:"# of Payments",rowClasses:["center"],rgb:"255, 165, 0",alpha:function(e){return e/450}},{key:"percentage",name:"% from Total Taxi Rides",format:b.Mb.percentWithOneDecimal,rowClasses:["center"],rgb:"136, 34, 85",alpha:function(e){return e/.7}}];function Re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Le="".concat("https://transithealth.herokuapp.com","/community/metrics"),Ke=[j.Forest,j.Gold,j.Magenta],He={name:"?",totalTripsFormatted:"?"};function Je(e){var t=e.data;return(0,n.jsx)(d.h,{width:"100%",height:400,children:(0,n.jsxs)(u.u,{width:400,height:400,margin:{bottom:30},children:[(0,n.jsx)(h.b,{data:t,nameKey:"name",dataKey:"number_of_trips_based_on_start_cn",label:!0,cx:"50%",cy:"50%",fill:"",outerRadius:150,children:t.map((function(e,t){return(0,n.jsx)(p.b,{fill:e.color},"cell-".concat(t))}))}),(0,n.jsx)(m.u,{}),(0,n.jsx)(f.D,{layout:"horizontal",verticalAlign:"top",align:"center",wrapperStyle:{bottom:-10}})]})})}var qe=r(2815);function Ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ve="".concat("https://transithealth.herokuapp.com","/community/metrics"),Ye={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({metrics:["rideshare_pickups_covid","total_covid_cases"]})};function Qe(e){var t=e.communityAreas,r=(0,s.useState)({}),a=r[0],i=r[1],c=(0,l.ZP)(Ve,Ye,[]),d=(c.loading,c.error),u=c.data,h=u?function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(e){var t=e.total_covid_cases/(e.rideshare_pickups_covid/1e3);return ze(ze({},e),{},{cases_per_thousand_trips:t})})),t=e.reduce((function(e,t){return Math.max(t.cases_per_thousand_trips,e)}),0);return e.map((function(e){var r=e.cases_per_thousand_trips/t;return ze(ze({},e),{},{opacity:Math.max(r,.05)})})).reduce((function(e,t){return e[t.area_number]=t,e}),{})}(u.metrics):null,p=h&&a.number?h[a.number]:{},m=p.name?(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{children:[p.cases_per_thousand_trips.toFixed(0)," COVID cases per thousand rideshare pickups"]}),(0,n.jsxs)("p",{children:[(0,n.jsxs)("span",{children:[p.total_covid_cases.toLocaleString()," COVID cases"]}),(0,n.jsx)("span",{className:"spacer",children:"/"}),(0,n.jsxs)("span",{children:[p.rideshare_pickups_covid.toLocaleString()," total rideshare pickups since March 2020"]})]})]}):null,f=d?(0,n.jsx)(o.P_,{classes:["Bottom","Wide","Failure","left"],visible:!0,children:(0,n.jsx)("p",{children:"Failed to get data from server. Please reload."})}):null;return(0,n.jsxs)("div",{className:"center",children:[(0,n.jsx)("h2",{children:"COVID Cases per Thousand Rideshare Pickups"}),(0,n.jsx)("p",{children:"Pick a community area from the map."}),(0,n.jsx)(qe.Z,{data:h,communityAreas:t,height:400,defaultOpacity:1,onAreaClick:i}),(0,n.jsx)("h3",{children:a.name}),m,f]})}function Ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Xe="".concat("https://transithealth.herokuapp.com","/question/ohare/rideshare"),et=[{key:"dropoff_community_area",name:"Area Number"},{key:"area_name",name:"Community Area"},{key:"part",name:"Part"},{key:"total_trips_before",name:"Dropoffs in 2019",format:b.Mb.numberWithCommas,rowClasses:["right"]},{key:"total_trips_since",name:"Dropoffs in 2020",format:b.Mb.numberWithCommas,rowClasses:["right"]},{key:"pct_change",name:"Change",format:b.Mb.percentChangeWithNoDecimal,rowClasses:["right"],rgb:"209, 31, 0",alpha:function(e){return e/-.76}}];function tt(e){return e?[function(e,t){var r={};for(var n in e)r[e[n].dropoff_community_area]=e[n];for(var n in t){var a=t[n].dropoff_community_area;r[a].total_trips_since=t[n].total_trips,r[a].pct_change=(0,b.gB)(r[a].total_trips,r[a].total_trips_since)}return Object.values(r).map((function(e){return $e($e({},e),{},{total_trips_before:e.total_trips})}))}(e.ohare_dropoff_2019,e.ohare_dropoff_2020)]:[[]]}function rt(e){var t=e.error?(0,n.jsx)(o.P_,{classes:["Bottom","Wide","Failure"],visible:!0,children:(0,n.jsx)("p",{children:"Failed to get data from server. Please reload."})}):null;return(0,n.jsx)("div",{className:"DropoffTrips",children:(0,n.jsxs)("div",{className:"center medium-width",children:[(0,n.jsx)("h2",{children:"Why this question?"}),(0,n.jsx)("p",{children:"The pandemic has severely affected the amount of flights. While the data shows the dropoff trips from the O'Hare Area, we can also assume that a large majority of these dropoffs came from the O'Hare airport if not all."}),(0,n.jsx)("h2",{children:"Dropoff Trips From The O'Hare Area to Places in Chicago"}),(0,n.jsx)("p",{children:"This table shows the dropoff trips from the O'Hare Area to different locations in Chicago for 2019 and 2020."}),(0,n.jsx)(I,{rows:e.rRow,cols:e.cColumn}),t]})})}function nt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function at(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var it="".concat("https://transithealth.herokuapp.com","/community/metrics"),ot={English:{Title:"Traffic Intensity by Area",Sub_Title:"How congested traffic is around the city?",YearSelector_Title:"Select the Year",SelectLanguage_Title:"Select Language"},Urdu:{Title:"\u0631 \u0642\u0628\u06ba\u06c1 \u06a9\u06d2 \u062d\u0633\u0627 \u0628 \u0633\u06d2 \u0679\u0631 \u06cc\u0641\u06a9 \u0645\u06cc\u0646 \u0634\u062f \u062a",Sub_Title:"\u0634\u06be\u0631 \u06a9\u06d2 \u0627\u0631\u062f \u06af\u0631 \u062f \u0679\u0631 \u06cc\u0641\u06a9 \u06a9\u062a\u0646\u06cc \u0632 \u06cc\u0627 \u062f \u06c1 \u06be\u06d2\u061f",YearSelector_Title:"\u0633\u0627 \u0644 \u06a9\u0627 \u0627 \u0646\u062a\u062e\u0627 \u0628 \u06a9\u0631 \u06cc\u0646",SelectLanguage_Title:"\u0632 \u0628\u0627 \u0646 \u06a9\u0627 \u0627 \u0646\u062a\u062e\u0627 \u0628 \u06a9\u0631 \u06cc\u0646"}},st=[j.Forest,j.Gold,j.Magenta,j.Cerulean,j.HealthPink,j.Indigo,j.Red,j.Sky,j.Salmon,j.Maroon];function ct(e){if(!e.data)return(0,n.jsx)("p",{children:"Waiting for data..."});var t=e.Language;return(0,n.jsxs)("div",{style:{display:"inline-block"},children:[(0,n.jsx)("p",{children:ot[t].YearSelector_Title}),(0,n.jsx)("select",{onChange:function(t){return e.handleChange(parseInt(t.target.value))},children:e.data.map((function(e,t){return(0,n.jsx)("option",{value:e,children:e},t)}))})]})}function lt(e){if(!e.data)return(0,n.jsx)("p",{children:"Waiting for data..."});var t=e.Language;return(0,n.jsxs)("div",{style:{display:"inline-block"},children:[(0,n.jsx)("p",{children:ot[t].SelectLanguage_Title}),(0,n.jsx)("select",{onChange:function(t){return e.handleChange(t.target.value)},children:e.data.map((function(e,t){return(0,n.jsx)("option",{value:e,children:e},t)}))})]})}function dt(e){var t=e.data;return(0,n.jsx)(d.h,{width:"100%",height:400,children:(0,n.jsxs)(u.u,{width:400,height:400,margin:{bottom:30},children:[(0,n.jsx)(h.b,{data:t,nameKey:"name",dataKey:"traffic_intensity_formatted",label:!0,cx:"50%",cy:"50%",fill:"",outerRadius:150,children:t.map((function(e,t){return(0,n.jsx)(p.b,{fill:e.color},"cell-".concat(t))}))}),(0,n.jsx)(m.u,{}),(0,n.jsx)(f.D,{layout:"horizontal",verticalAlign:"top",align:"center",wrapperStyle:{bottom:-10}})]})})}var ut={sample:function(e){return(0,s.useEffect)((function(){e.setContentIsLoading(!1)})),(0,n.jsx)("div",{children:(0,n.jsx)("p",{children:"This question is still under development. Check back soon!"})})},"template-with-pie-chart":function(e){var t=(0,l.ZP)(_,{},[]),r=t.loading,a=t.error,i=t.data,c=function(e,t){if(!e||t)return{chartData:[],mostTrips:v};var r=e.results.map((function(e){return g(g(g({},e),x[e.transit_mode]||{name:e.transit_mode,color:j.DarkGray}),{},{totalTripsFormatted:b.Mb.numberInMillions(e.total_trips_2019)})})),n=r.reduce((function(e,t){return t.total_trips_2019>e.total_trips_2019?t:e}),{total_trips_2019:0});return{chartData:r,mostTrips:n}}(i,a),d=c.chartData,u=c.mostTrips;return(0,s.useEffect)((function(){e.setContentIsLoading(r)}),[r]),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"center medium-width",children:[(0,n.jsx)("h2",{children:"Total Trips by Transit Type"}),(0,n.jsx)("p",{children:"How do people get around the city?"}),(0,n.jsx)(o.K4,{error:a,data:i})]}),(0,n.jsxs)("div",{className:"center",children:[(0,n.jsx)(O,{data:d}),(0,n.jsx)("br",{})]}),(0,n.jsx)("div",{className:"center medium-width",children:(0,n.jsxs)("p",{children:[(0,n.jsxs)("span",{children:["Based on (fake) data from 2019, ",u.name," is the most popular transit mode, "]}),(0,n.jsxs)("span",{children:["with ",u.totalTripsFormatted," annual trips."]})]})})]})},"pooled-trips":function(e){var t=(0,l.ZP)(B,{},[]),r=t.loading,a=t.error,i=H(t.data),c=(0,w.Z)(i,2),d=c[0],u=c[1];(0,s.useEffect)((function(){e.setContentIsLoading(r)}),[r]);var h=a?(0,n.jsx)(o.P_,{classes:["Bottom","Wide","Failure"],visible:!0,children:(0,n.jsx)("p",{children:"Failed to get data from server. Please reload."})}):null,p=d.sort((function(e,t){return t.pooled_trip_rate_before-e.pooled_trip_rate_before})),m=p[0],f=p[p.length-1],j=p.length>1?(0,n.jsxs)("p",{className:"center",children:[(0,n.jsx)("span",{className:"bold",children:m.name}),(0,n.jsx)("span",{children:" has the highest rate of pooled trips ("}),(0,n.jsx)("span",{className:"bold",children:b.Mb.percentWithOneDecimal(m.pooled_trip_rate_before)}),(0,n.jsx)("span",{children:") while "}),(0,n.jsx)("span",{className:"bold",children:f.name}),(0,n.jsx)("span",{children:" has the lowest ("}),(0,n.jsx)("span",{className:"bold",children:b.Mb.percentWithOneDecimal(f.pooled_trip_rate_before)}),(0,n.jsx)("span",{children:")."})]}):null;return(0,n.jsxs)("div",{className:"QuestionPooledTrips",children:[(0,n.jsxs)("div",{className:"center medium-width",children:[(0,n.jsx)("h2",{children:"Pooled Trip Rates by Community Area"}),(0,n.jsx)("p",{children:"This chart shows the percentage of all rides that were pooled in the year before COVID, by community area where the rider was picked up."})]}),(0,n.jsx)(J,{data:u}),j,(0,n.jsx)("br",{}),(0,n.jsxs)("div",{className:"center medium-width",children:[(0,n.jsx)("h2",{children:"Change Since COVID"}),(0,n.jsx)("p",{children:"This table shows how the average number of trips per day and average cost per trip has changed in each community area since COVID."}),(0,n.jsxs)("p",{children:[(0,n.jsx)("span",{className:"bold",children:"Before"}),(0,n.jsx)("span",{children:" is the 12-month period from February 2019-2020."})]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("span",{className:"bold",children:"After"}),(0,n.jsx)("span",{children:" is the 12-month period from March 2020-2021."})]})]}),(0,n.jsx)(I,{rows:d,cols:K}),h]})},"rideshares-across-city":function(e){var t=(0,l.ZP)(z,{},[]),r=t.loading,a=t.error,i=t.data,c=function(e,t){return!e||t?{chartData:[],mostTrips:Y}:{chartData:e.filter((function(e){return 2019===e.year})).map((function(e){return G(G({},e),{},{color:V[e.pickup_part]})})),mostTrips:Y}}(i,a),d=c.chartData;return c.mostTrips,(0,s.useEffect)((function(){e.setContentIsLoading(r)}),[r]),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"center medium-width",children:[(0,n.jsx)("h2",{children:"Rideshares by Part of City"}),(0,n.jsx)("p",{children:"How do people get around the city?"}),(0,n.jsx)(o.K4,{error:a,data:i})]}),(0,n.jsxs)("div",{className:"center",children:[(0,n.jsx)(Q,{data:d}),(0,n.jsx)("br",{})]}),(0,n.jsx)("div",{className:"center medium-width"})]})},"residents-with-disabilities":function(e){var t=(0,l.ZP)(X,{method:"POST",body:JSON.stringify({metrics:["disability_rate_2019"]})},[]),r=t.loading,a=t.error,i=t.data;console.log(i);var c=function(e,t,r){if(!e||t)return{chartData:[],areaData:ee};var n=e.metrics.map((function(e){return $($({},e),{},{disability_rate_formatted:b.Mb.percentWithOneDecimal(e.disability_rate_2019)})})).filter((function(e){return e.area_number===r}))[0];return{chartData:[{label:"With Disabilities",value:n.disability_rate_2019,color:j.Salmon},{label:"Without Disabilities",value:1-n.disability_rate_2019,color:j.Teal}],areaData:n}}(i,a,47),d=c.chartData,u=c.areaData;return(0,s.useEffect)((function(){e.setContentIsLoading(r)}),[r]),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"center medium-width",children:[(0,n.jsx)("h2",{children:"Disability Rate by Area"}),(0,n.jsxs)("p",{children:["How many residents in ",u.name," have an included disability?"]}),(0,n.jsx)(o.K4,{error:a,data:i})]}),(0,n.jsxs)("div",{className:"center",children:[(0,n.jsx)(te,{data:d}),(0,n.jsx)("br",{})]}),(0,n.jsx)("div",{className:"center medium-width",children:(0,n.jsx)("p",{children:(0,n.jsxs)("span",{children:["Based on data from 2019, ",u.disability_rate_formatted," of residents in ",u.name," have an included disability."]})})})]})},"belonging-rates":function(e){var t=(0,l.ZP)(ae,{method:"POST",body:JSON.stringify({metrics:["belonging_rate_2018"]})},[]),r=t.loading,a=t.error,i=t.data,c=(0,s.useState)(1),d=c[0],u=c[1],h=function(e,t,r){if(!e||t)return{chartData:[],areaData:ie};var n=e.metrics.map((function(e){return ne(ne({},e),{},{belongingRateFormatted:b.Mb.percentWithOneDecimal(e.belonging_rate_2018)})})).filter((function(e){return e.area_number===r}))[0];return{chartData:[{label:"Feels Belonging",value:n.belonging_rate_2018,valueFormatted:b.Mb.percentWithOneDecimal(n.belonging_rate_2018),color:j.Indigo},{label:"Does Not Feel Belonging",value:1-n.belonging_rate_2018,valueFormatted:b.Mb.percentWithOneDecimal(1-n.belonging_rate_2018),color:j.Salmon}],areaData:n}}(i,a,d),p=h.chartData,m=h.areaData;return(0,s.useEffect)((function(){e.setContentIsLoading(r)}),[r]),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"center medium-width",children:[(0,n.jsx)("h2",{children:"Belonging Rate by Area"}),(0,n.jsx)(se,{data:i,handleChange:u}),(0,n.jsxs)("p",{children:["What percentage of residents in ",m.name," feel a sense of belonging?"]}),(0,n.jsx)(o.K4,{error:a,data:i})]}),(0,n.jsxs)("div",{className:"center",children:[(0,n.jsx)(oe,{data:p}),(0,n.jsx)("br",{})]}),(0,n.jsx)("div",{className:"center medium-width",children:(0,n.jsx)("p",{children:(0,n.jsx)(ce,{areaData:m})})})]})},"rent-burden-rates":function(e){var t=(0,l.ZP)(ue,{method:"POST",body:JSON.stringify({metrics:["rent_burdened_2019","rent_burdened_2018","rent_burdened_2017"]})},[]),r=t.loading,a=t.error,i=t.data,c=(0,s.useState)(1),d=c[0],u=c[1],h=(0,s.useState)(2019),p=h[0],m=h[1],f=function(e,t,r,n){if(!e||t)return{chartData:[],areaData:he};var a=2019===n?"rent_burdened_2019":2018===n?"rent_burdened_2018":2017===n?"rent_burdened_2017":"Error",i=e.metrics.map((function(e){return de(de({},e),{},{rentBurdenRateFormatted:b.Mb.percentWithOneDecimal(e[a])})})).filter((function(e){return e.area_number===r}))[0];return{chartData:[{label:"Rent Burdened Households",value:i[a],valueFormatted:b.Mb.percentWithOneDecimal(i[a]),color:j.Maroon},{label:"Not Rent Burdened Households",value:1-i[a],valueFormatted:b.Mb.percentWithOneDecimal(1-i[a]),color:j.Forest}],areaData:i}}(i,a,d,p),y=f.chartData,g=f.areaData;return(0,s.useEffect)((function(){e.setContentIsLoading(r)}),[r]),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"center medium-width",children:[(0,n.jsx)("h2",{children:"Rent Burdened Households Rate by Area and Year"}),(0,n.jsx)(fe,{data:i,handleChange:u}),(0,n.jsx)(me,{data:[2019,2018,2017],handleChange:m}),(0,n.jsxs)("p",{children:["What percentage of households in ",g.name," are rent burdened?"]}),(0,n.jsx)(o.K4,{error:a,data:i})]}),(0,n.jsxs)("div",{className:"center",children:[(0,n.jsx)(pe,{data:y}),(0,n.jsx)("br",{})]}),(0,n.jsx)("div",{className:"center medium-width",children:(0,n.jsx)("p",{children:(0,n.jsxs)("span",{children:["Based on data from ",p,", ",g.rentBurdenRateFormatted," of households in ",g.name," are rent burdened."]})})})]})},"rideshare-ohare":function(e){var t=(0,l.ZP)(Xe,{},[]),r=t.loading,a=t.error,i=tt(t.data),c=(0,w.Z)(i,1)[0];(0,s.useEffect)((function(){e.setContentIsLoading(r)}),[r]);var d=a?(0,n.jsx)(o.P_,{classes:["Bottom","Wide","Failure"],visible:!0,children:(0,n.jsx)("p",{children:"Failed to get data from server. Please reload."})}):null;return(0,n.jsxs)("div",{className:"center medium-width",children:[(0,n.jsx)(rt,{rRow:c,cColumn:et}),d]})},"sidewalk-cafe-permits-years":function(e){var t=(0,l.ZP)(ye,{method:"POST",body:JSON.stringify({metrics:["yearly_sidewalk_cafe_permit"]})},[]),r=t.loading,a=t.error,i=t.data,c=function(e,t){if(!e||t)return{chartData:[],mostPermits:ge};var r=e.metrics.map((function(e){return be(be({},e),{},{color:j.Indigo,year:e.date.split("-")[0],numberOfPermitsFormatted:b.Mb.numberWithCommas(e.yearly_sidewalk_cafe_permit)})})),n=r.reduce((function(e,t){return t.yearly_sidewalk_cafe_permit>e.yearly_sidewalk_cafe_permit?t:e}),{yearly_sidewalk_cafe_permit:0});return{chartData:r,mostPermits:n}}(i,a),d=c.chartData,u=c.mostPermits;return(0,s.useEffect)((function(){e.setContentIsLoading(r)}),[r]),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"center medium-width",children:[(0,n.jsx)("h2",{children:"Sidewalk Cafe Permits by Year"}),(0,n.jsx)("p",{children:"City of Chicago has been issuing sidewalk cafe permits since 2001."}),(0,n.jsx)(o.K4,{error:a,data:i})]}),(0,n.jsxs)("div",{className:"center",children:[(0,n.jsx)(_e,{data:d}),(0,n.jsx)("br",{})]}),(0,n.jsx)("div",{className:"center medium-width",children:(0,n.jsx)("p",{children:(0,n.jsxs)("span",{children:[u.year," had the most permits issued (",u.numberOfPermitsFormatted,")."]})})})]})},"sidewalk-cafe-permit-search":function(e){var t=(0,s.useState)(""),r=t[0],a=t[1],i=(0,s.useState)(""),c=i[0],l=i[1],d=(0,s.useState)(null),u=d[0],h=d[1],p=(0,s.useState)(null),m=p[0],f=p[1],j=(0,s.useState)(!1),b=j[0],y=j[1],g=(null===u||void 0===u?void 0:u.results)||[],_=b?"Searching...":c?g.length>0?"".concat(g.length," results for ").concat(c):"No results for ".concat(c):null;return(0,s.useEffect)((function(){e.setContentIsLoading(!1)}),[]),(0,n.jsxs)("div",{className:"SidewalkCafePermitSearch",children:[(0,n.jsxs)("div",{className:"center medium-width",children:[(0,n.jsx)("p",{children:"Search for permits by restaurant name."}),(0,n.jsx)("input",{className:"SearchInput",type:"text",placeholder:"Search",value:r,onChange:function(e){return a(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&function(){var e=!0;function t(){return(t=(0,Oe.Z)(ve().mark((function e(){var t,n;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Pe,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({search:r})});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}y(!0),l(r),function(){return t.apply(this,arguments)}().then((function(t){e&&(y(!1),f(null),h(t))})).catch((function(t){e&&(y(!1),f(t),h(null))}))}()}}),(0,n.jsx)("p",{children:_}),(0,n.jsx)(o.K4,{error:m,data:u})]}),(0,n.jsx)(I,{rows:g,cols:De})]})},"disabilities-and-transportation":function(e){var t=(0,l.ZP)(Se,{},[]),r=t.loading,a=t.error,i=function(e){if(e){var t=e.cta_area_metrics;return[Ae(e.cta_station_ridership_metrics),Ae(e.cta_change_metrics),t]}return[[],[],[]]}(t.data),c=(0,w.Z)(i,3),d=c[0],u=c[1];c[2],(0,s.useEffect)((function(){e.setContentIsLoading(r)}),[r]);var h=a?(0,n.jsx)(o.P_,{classes:["Bottom","Wide","Failure"],visible:!0,children:(0,n.jsx)("p",{children:"Failed to get data from server. Please reload."})}):null;return(0,n.jsxs)("div",{className:"QuestionCTARidershipChange",children:[(0,n.jsxs)("div",{className:"center medium-width",children:[(0,n.jsx)("br",{}),(0,n.jsx)("h2",{children:"Ridership Change Based on Station Accessibility"}),(0,n.jsx)("p",{children:"How much of a difference does it make if a station is ADA (Americans with Disabilities Act) approved or not? "})]}),(0,n.jsx)(Me,{data:u}),(0,n.jsx)("br",{}),(0,n.jsx)(I,{rows:u,cols:Te}),(0,n.jsxs)("div",{className:"center medium-width",children:[(0,n.jsx)("h2",{children:"Daily Ridership Change Per CTA Station Since COVID"}),(0,n.jsx)("p",{children:"This table shows the average daily ridership in the year before and the year since COVID per CTA station."}),(0,n.jsxs)("p",{children:[(0,n.jsx)("span",{className:"bold",children:"Before"}),(0,n.jsx)("span",{children:" is the 12-month period from February 2019-2020."})]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("span",{className:"bold",children:"After"}),(0,n.jsx)("span",{children:" is the 12-month period from March 2020-2021."})]})]}),(0,n.jsx)(I,{rows:d,cols:Ne}),h]})},"taxi-most-common-dropoff":function(e){var t,r=(0,l.ZP)(Ee,{},[]),a=r.loading,i=r.error,c=r.data,d=(t=c)?[t.most_common_dropoff]:[[]],u=(0,w.Z)(d,1)[0];(0,s.useEffect)((function(){e.setContentIsLoading(a)}),[a]);var h=i?(0,n.jsx)(o.P_,{classes:["Bottom","Wide","Failure"],visible:!0,children:(0,n.jsx)("p",{children:"Failed to get data from server. Please reload."})}):null;return(0,n.jsxs)("div",{className:"QuestionMostCommonDropoff",children:[(0,n.jsxs)("div",{className:"center medium-width",children:[(0,n.jsx)("h2",{children:"Most Common Dropoff Locations"}),(0,n.jsx)("p",{children:"This table shows the most common dropoff locations done by taxis for each pickup community area."}),(0,n.jsx)("p",{children:(0,n.jsx)("span",{children:" This is for the 6-month period from January 2021 - July 2021."})})]}),(0,n.jsx)(I,{rows:u,cols:Fe}),h]})},"taxi-payment-method":function(e){var t,r=(0,l.ZP)(We,{},[]),a=r.loading,i=r.error,c=r.data,d=(t=c)?[t.payment_per_pickup,t.payment_per_dropoff]:[[],[]],u=(0,w.Z)(d,2),h=u[0],p=u[1];return(0,s.useEffect)((function(){e.setContentIsLoading(a)}),[a]),(0,n.jsxs)("div",{className:"QuestionPaymentMethod",children:[(0,n.jsxs)("div",{className:"center medium-width",children:[(0,n.jsx)("h2",{children:"Most Popular Payment Method Per Pickup Location"}),(0,n.jsx)("p",{children:"This table shows the most common payment method for taxi trips for every pickup location in Chicago as well as the total amount of taxi rides paid for with that method. "}),(0,n.jsx)("p",{children:(0,n.jsx)("span",{children:" This is for the 6-month period from January 2021 - July 2021."})}),(0,n.jsx)(o.K4,{error:i,data:c})]}),(0,n.jsx)(I,{rows:h,cols:Ie}),(0,n.jsxs)("div",{className:"center medium-width",children:[(0,n.jsx)("h2",{children:"Most Popular Payment Method Per Dropoff Location"}),(0,n.jsx)("p",{children:"This table shows the most common payment method for taxi trips for every Dropoff location in Chicago as well as the total amount of taxi rides paid for with that method. "}),(0,n.jsx)("p",{children:(0,n.jsx)("span",{children:" This is for the 6-month period from January 2021 - July 2021."})})]}),(0,n.jsx)(I,{rows:p,cols:Ze})]})},"escooter-city":function(e){var t=(0,l.ZP)(Le,{method:"POST",body:JSON.stringify({metrics:["number_of_trips_based_on_start_cn"]})},[]),r=t.loading,a=t.error,i=t.data,c=function(e,t){if(!e||t)return{chartData:[],mostTrips:He};var r=e.metrics.map((function(e){return Be(Be({},e),{},{number_of_trips_based_on_start_cn:e.number_of_trips_based_on_start_cn||0,totalTripsFormatted:b.Mb.numberWithCommas(e.number_of_trips_based_on_start_cn||0)})})).sort((function(e,t){return t.number_of_trips_based_on_start_cn-e.number_of_trips_based_on_start_cn})).filter((function(e,t){return t<10})).map((function(e,t){return Be(Be({},e),{},{color:Ke[t%Ke.length]})})),n=r.reduce((function(e,t){return t.number_of_trips_based_on_start_cn>e.number_of_trips_based_on_start_cn?t:e}),{number_of_trips_based_on_start_cn:0});return{chartData:r,mostTrips:n}}(i,a),d=c.chartData,u=c.mostTrips;return(0,s.useEffect)((function(){e.setContentIsLoading(r)}),[r]),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"center medium-width",children:[(0,n.jsx)("h2",{children:"Total number of escooter trips"}),(0,n.jsx)("p",{children:"Top 10 community areas for escooters"}),(0,n.jsx)(o.K4,{error:a,data:i})]}),(0,n.jsxs)("div",{className:"center",children:[(0,n.jsx)(Je,{data:d}),(0,n.jsx)("br",{})]}),(0,n.jsx)("div",{className:"center medium-width",children:(0,n.jsx)("p",{children:(0,n.jsxs)("span",{children:[u.name," uses escooters the most, with ",u.totalTripsFormatted," trips in 2019."]})})})]})},"covid-cases-per-rideshare":function(e){return(0,s.useEffect)((function(){e.setContentIsLoading(!1)})),(0,n.jsx)("div",{className:"CovidCasesPerRideshare",children:(0,n.jsx)("div",{className:"center",children:(0,n.jsx)(Qe,{communityAreas:e.communityAreas})})})},"traffic-intensity-across-the-city":function(e){var t=(0,l.ZP)(it,{method:"POST",body:JSON.stringify({metrics:["traffic_intensity_2020","traffic_intensity_2019","traffic_intensity_2018","traffic_intensity_2017","traffic_intensity_2016"]})},[]),r=t.loading,a=t.error,i=t.data,c=(0,s.useState)(2016),d=c[0],u=c[1],h=(0,s.useState)("English"),p=h[0],m=h[1],f=function(e,t,r){if(!e||t)return{chartData:[]};var n=2020===r?"traffic_intensity_2020":2019===r?"traffic_intensity_2019":2018===r?"traffic_intensity_2018":2017===r?"traffic_intensity_2017":2016===r?"traffic_intensity_2016":"Error";return{chartData:e.metrics.map((function(e){return at(at({},e),{},{traffic_intensity_formatted:parseFloat(b.Mb.numberWithTwoDecimals(e[n]))})})).sort((function(e,t){return e.traffic_intensity_formatted-t.traffic_intensity_formatted})).filter((function(e,t){return t<10})).map((function(e,t){return at(at({},e),{},{color:st[t%st.length]})}))}}(i,a,d),j=f.chartData;return f.mostTrips,(0,s.useEffect)((function(){e.setContentIsLoading(r)}),[r]),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"center medium-width",children:[(0,n.jsx)("h2",{children:ot[p].Title}),(0,n.jsx)(ct,{data:[2020,2019,2018,2017,2016],Language:p,handleChange:u}),(0,n.jsx)(lt,{data:["English","Urdu"],Language:p,handleChange:m}),(0,n.jsxs)("p",{children:[ot[p].Sub_Title," "]}),(0,n.jsx)(o.K4,{error:a,data:i})]}),(0,n.jsxs)("div",{className:"center",children:[(0,n.jsx)(dt,{data:j}),(0,n.jsx)("br",{})]}),(0,n.jsx)("div",{className:"center medium-width"})]})}};var ht=!0;function pt(e){var t=(0,s.useState)(!0),r=t[0],c=t[1],l=ut[e.component];return(0,n.jsxs)("div",{children:[(0,n.jsxs)(a.default,{children:[(0,n.jsx)("title",{children:"TransitHealth"}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,n.jsx)("meta",{name:"description",content:"Explore transit and public health data across Chicago."}),(0,n.jsx)("link",{rel:"icon",href:"favicon.ico"})]}),(0,n.jsx)(i.Z,{}),(0,n.jsx)("main",{className:"QuestionLayout",children:(0,n.jsxs)("div",{className:"page",children:[(0,n.jsxs)("div",{className:"center medium-width",children:[(0,n.jsx)("h1",{children:e.title}),(0,n.jsxs)("p",{children:["By ",e.author]}),(0,n.jsx)("p",{children:e.description}),(0,n.jsx)("hr",{})]}),(0,n.jsx)("div",{className:r?"block":"hidden",children:(0,n.jsx)("p",{className:"center",children:"Loading..."})}),(0,n.jsx)("div",{className:r?"hidden":"block",children:(0,n.jsx)(l,{setContentIsLoading:c,communityAreas:e.communityAreas})}),(0,n.jsx)("br",{})]})}),(0,n.jsx)(o.k7,{})]})}},7277:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/questions/[id]",function(){return r(3778)}])}},function(e){e.O(0,[774,351,197,238,55,371,306],(function(){return t=7277,e(e.s=t);var t}));var t=e.O();_N_E=t}]);