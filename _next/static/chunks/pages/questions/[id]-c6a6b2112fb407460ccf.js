(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[134],{8052:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return Ve},default:function(){return Ge}});var n=r(5893),a=r(9008),i=(r(1664),r(9187)),o=r(8047),s=r(7294);var c=r(6156),l=r(1009),d=r(9009),u=r(2931),h=r(6208),p=r(3815),m=r(9307),f=r(3872),j="#263238",b="#332288",y="#1978AD",g="#117733",x="#44AA99",v="#CC6677",_="#AA4499",O="#882255",w=r(3743);function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var C="".concat("https://transithealth.herokuapp.com","/fake/data/example-pie-chart"),k={rail:{name:"CTA Rail",color:g},bus:{name:"CTA Bus",color:y},rideshare:{name:"Rideshare",color:b},"e-scooter":{name:"E-Scooter",color:v}},S={name:"?",totalTripsFormatted:"?"};function N(e){var t=e.data;return(0,n.jsx)(d.h,{width:"100%",height:400,children:(0,n.jsxs)(u.u,{width:400,height:400,margin:{bottom:30},children:[(0,n.jsx)(h.b,{data:t,nameKey:"name",dataKey:"total_trips_2019",label:!0,cx:"50%",cy:"50%",fill:"",outerRadius:150,children:t.map((function(e,t){return(0,n.jsx)(p.b,{fill:e.color},"cell-".concat(t))}))}),(0,n.jsx)(m.u,{}),(0,n.jsx)(f.D,{layout:"horizontal",verticalAlign:"top",align:"center",wrapperStyle:{bottom:-10}})]})})}var A=r(4699),T=r(4831),M=r(4195),E=r(3023),W=r(5048),F=r(5358),B=r(7226),R=r(7329);function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function K(e){var t=e.data,r=e.col,a=t[r.key],i=r.format?r.format(a):a,o=r.rowClasses?"Cell "+r.rowClasses.join(" "):"Cell",s={background:r.rgb?r.alpha?"rgba(".concat(r.rgb,", ").concat(r.alpha(a),")"):"rgb(".concat(r.rgb,")"):"transparent"};return(0,n.jsx)("td",{className:o,style:s,children:i})}function L(e){var t=e.data,r=e.cols;return(0,n.jsx)("tr",{children:r.map((function(e,r){return(0,n.jsx)(K,{data:t,col:e},r)}))})}function J(e){var t=e.cols,r=e.sortCol,a=e.sortAsc,i=e.sortByCol,o=t.reduce((function(e,t){return e||t.group}),!1),s=t.filter((function(e){return e.group})).reduce((function(e,t){return I(I({},e),{},(0,c.Z)({},t.group,(e[t.group]||0)+1))}),{}),l=t.filter((function(e){return e.group})).reduce((function(e,t){return I(I({},e),{},(0,c.Z)({},t.group,t.key))}),{}),d=t.filter((function(e){return!e.group||l[e.group]===e.key})),u=o?(0,n.jsx)("tr",{children:d.map((function(e,t){var r=s[e.group]||1;return(0,n.jsx)("th",{className:"GroupHeader",colSpan:r,children:e.group},t)}))}):null;return(0,n.jsxs)("thead",{children:[u,(0,n.jsx)("tr",{children:t.map((function(e,t){return(0,n.jsxs)("th",{className:r===e.key?"Sorted":"",onClick:function(t){i(e.key)},children:[(0,n.jsx)("span",{children:e.name}),(0,n.jsx)("span",{className:"SortArrow",children:a?"\u25bc":"\u25b2"})]},t)}))})]})}function q(e){var t=(0,R.Z)(e.rows),r=(0,s.useState)(null),a=r[0],i=r[1],o=(0,s.useState)(!1),c=o[0],l=o[1],d=(0,s.useState)(0),u=d[0],h=d[1];var p=null!==a?t.sort((function(e,t){var r=e[a],n=t[a];return r.localeCompare&&n.localeCompare?c?r.localeCompare(n):n.localeCompare(r):c?r-n:n-r})):(0,R.Z)(t);return(0,n.jsx)("div",{className:"TableContainer",children:(0,n.jsxs)("table",{children:[(0,n.jsx)(J,{cols:e.cols,sortCol:a,sortAsc:c,sortByCol:function(e){e==a?u>=2?(i(null),l(!1),h(0)):(l(!c),h(u+1)):(i(e),l(!1),h(1))}}),(0,n.jsx)("tbody",{children:p.map((function(t,r){return(0,n.jsx)(L,{data:t,cols:e.cols},r)}))})]})})}function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var V="".concat("https://transithealth.herokuapp.com","/question/pooled_trips"),G={Central:"#332288","Far North Side":"#1978AD","Far Southeast Side":"#117733","Far Southwest Side":"#44AA99","North Side":"#88CCEE","Northwest Side":"#DCA139","South Side":"#CC6677","Southwest Side":"#AA4499","West Side":"#882255"},Q=[{key:"area_number",group:"Pickup Community Area",name:"#"},{key:"name",group:"Pickup Community Area",name:"Name"},{key:"part",group:"Pickup Community Area",name:"Part"},{key:"pooled_trip_rate_before",group:"Pooled Trips",name:"% of Trips",format:w.Mb.percentWithOneDecimal,rowClasses:["right"]},{key:"avg_trips_per_day_before",group:"Trips/Day",name:"Before",format:w.Mb.numberWithCommas,rowClasses:["right"]},{key:"avg_trips_per_day_since",group:"Trips/Day",name:"Since",format:w.Mb.numberWithCommas,rowClasses:["right"]},{key:"pct_change_avg_trips",group:"Trips/Day",name:"Change",format:w.Mb.percentChangeWithNoDecimal,rowClasses:["right"],rgb:"136, 34, 85",alpha:function(e){return e/-.8}},{key:"avg_cost_per_trip_cents_before",group:"Cost/Trip",name:"Before",format:w.Mb.centsToDollarsUSD,rowClasses:["right"]},{key:"avg_cost_per_trip_cents_since",group:"Cost/Trip",name:"Since",format:w.Mb.centsToDollarsUSD,rowClasses:["right"]},{key:"pct_change_avg_cost",group:"Cost/Trip",name:"Change",format:w.Mb.percentChangeWithNoDecimal,rowClasses:["right"],rgb:"17, 119, 51",alpha:function(e){return e/.3}}];function Y(e){if(e){var t=function(e){return e.map((function(e){return H(H({},e),{},{pct_change_avg_trips:(0,w.gB)(e.avg_trips_per_day_before,e.avg_trips_per_day_since),pct_change_avg_cost:(0,w.gB)(e.avg_cost_per_trip_cents_before,e.avg_cost_per_trip_cents_since)})}))}(e.metrics),r=function(e){return e.sort((function(e,t){return t.pooled_trip_rate_before-e.pooled_trip_rate_before})).sort((function(e,t){return e.part.localeCompare(t.part)})).map((function(e){return H(H({},e),{},(0,c.Z)({},e.part,e.pooled_trip_rate_before))}))}(t);return[t,r]}return[[],[]]}function $(e){var t=e.data;return(0,n.jsx)(d.h,{width:"100%",height:400,children:(0,n.jsxs)(T.v,{data:t,margin:{left:30,right:30,bottom:30,top:30},children:[(0,n.jsx)(M.q,{strokeDashArray:"3 3"}),(0,n.jsx)(E.K,{dataKey:"name",tick:{dy:5},children:(0,n.jsx)(W._,{value:"Pickup Community Area",position:"bottom",offset:10})}),(0,n.jsx)(F.B,{type:"number",tickFormatter:w.Mb.percentWithNoDecimal,children:(0,n.jsx)(W._,{value:"Pooled Trip Rate",position:"left",angle:-90,offset:15,style:{textAnchor:"middle"}})}),(0,n.jsx)(m.u,{formatter:function(e,t,r){return[w.Mb.percentWithOneDecimal(e),"Pooled Trip Rate",r]}}),Object.keys(G).map((function(e,t){return(0,n.jsx)(B.$,{dataKey:e,stackId:"a",fill:G[e]},t)})),(0,n.jsx)(f.D,{layout:"horizontal",verticalAlign:"top",align:"center",wrapperStyle:{top:5}})]})})}function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ee="".concat("https://transithealth.herokuapp.com","/rideshare/total_trips_by_pickup_part_and_year"),te={Central:"#332288","Far North Side":"#1978AD","Far Southeast Side":"#117733","Far Southwest Side":"#44AA99","North Side":"#88CCEE","Northwest Side":"#DCA139","South Side":"#CC6677","Southwest Side":"#AA4499","West Side":"#882255"},re={name:"?",totalTripsFormatted:"?"};function ne(e){var t=e.data;return(0,n.jsx)(d.h,{width:"100%",height:400,children:(0,n.jsxs)(u.u,{width:400,height:400,margin:{bottom:30},children:[(0,n.jsx)(h.b,{data:t,nameKey:"pickup_part",dataKey:"total_trips",label:!0,cx:"50%",cy:"50%",fill:"",outerRadius:150,children:t.map((function(e,t){return(0,n.jsx)(p.b,{fill:e.color},"cell-".concat(t))}))}),(0,n.jsx)(m.u,{}),(0,n.jsx)(f.D,{layout:"horizontal",verticalAlign:"top",align:"center",wrapperStyle:{bottom:-10}})]})})}function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var oe="".concat("https://transithealth.herokuapp.com","/community/metrics"),se={name:"?",part:"?",disability_rate_formatted:"?"};function ce(e){var t=e.data;return(0,n.jsx)(d.h,{width:"100%",height:400,children:(0,n.jsxs)(u.u,{width:400,height:400,margin:{bottom:30},children:[(0,n.jsx)(h.b,{data:t,nameKey:"label",dataKey:"value",label:!0,cx:"50%",cy:"50%",fill:"",outerRadius:150,children:t.map((function(e,t){return(0,n.jsx)(p.b,{fill:e.color},"cell-".concat(t))}))}),(0,n.jsx)(m.u,{}),(0,n.jsx)(f.D,{layout:"horizontal",verticalAlign:"top",align:"center",wrapperStyle:{bottom:-10}})]})})}function le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?le(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ue="".concat("https://transithealth.herokuapp.com","/community/metrics"),he={name:"?",belongingRateFormatted:"?"};function pe(e){var t,r=e.data;if(null===r||void 0===r||null===(t=r[0])||void 0===t||!t.value)return null;var a={backgroundColor:"white",borderColor:"LightGrey",borderStyle:"solid",borderWidth:"thin"},i=function(e){var t=e.active,r=e.payload;e.label;return t&&r&&r.length?(0,n.jsx)("div",{className:"custom-tooltip",style:a,children:(0,n.jsx)("p",{className:"label",children:"".concat(r[0].name," : ").concat(r[0].payload.valueFormatted)})}):null},o=Math.PI/180;return(0,n.jsx)(d.h,{width:"100%",height:400,children:(0,n.jsxs)(u.u,{width:400,height:400,margin:{bottom:30},children:[(0,n.jsx)(h.b,{data:r,nameKey:"label",dataKey:"value",label:function(e){var t=e.cx,r=e.cy,a=e.midAngle,i=e.innerRadius,s=e.outerRadius,c=e.color,l=e.valueFormatted,d=(e.index,25+i+(s-i)),u=t+d*Math.cos(-a*o),h=r+d*Math.sin(-a*o);return(0,n.jsx)("text",{x:u,y:h,fill:c,textAnchor:u>t?"start":"end",dominantBaseline:"central",children:"".concat(l)})},cx:"50%",cy:"50%",fill:"",outerRadius:150,children:r.map((function(e,t){return(0,n.jsx)(p.b,{fill:e.color},"cell-".concat(t))}))}),(0,n.jsx)(m.u,{content:(0,n.jsx)(i,{})}),(0,n.jsx)(f.D,{layout:"horizontal",verticalAlign:"top",align:"center",wrapperStyle:{bottom:-10}})]})})}function me(e){if(!e.data)return(0,n.jsx)("p",{children:"Waiting for data..."});return(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{children:"Select an Area of Interest"}),(0,n.jsx)("select",{onChange:function(t){return e.handleChange(parseInt(t.target.value))},children:e.data.metrics.map((function(e,t){return(0,n.jsx)("option",{value:e.area_number,children:e.name},t)}))})]})}function fe(e){var t=e.areaData;return t?t.belonging_rate_2018?(0,n.jsxs)("span",{children:["Based on the data from 2018, ",t.belongingRateFormatted," of people in ",t.name," agree or strongly agree that they feel a sense of belonging in their community"]}):(0,n.jsxs)("span",{children:["There is no data for ",t.name]}):(0,n.jsx)("p",{children:"Waiting for data..."})}function je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?je(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ye="".concat("https://transithealth.herokuapp.com","/community/metrics"),ge={name:"?",rentBurdenRateFormatted:"?"};function xe(e){var t,r=e.data;if(null===r||void 0===r||null===(t=r[0])||void 0===t||!t.value)return null;var a={backgroundColor:"white",borderColor:"LightGrey",borderStyle:"solid",borderWidth:"thin"},i=function(e){var t=e.active,r=e.payload;e.label;return t&&r&&r.length?(0,n.jsx)("div",{className:"custom-tooltip",style:a,children:(0,n.jsx)("p",{className:"label",children:"".concat(r[0].name," : ").concat(r[0].payload.valueFormatted)})}):null},o=Math.PI/180;return(0,n.jsx)(d.h,{width:"100%",height:400,children:(0,n.jsxs)(u.u,{width:400,height:400,margin:{bottom:30},children:[(0,n.jsx)(h.b,{data:r,nameKey:"label",dataKey:"value",label:function(e){var t=e.cx,r=e.cy,a=e.midAngle,i=e.innerRadius,s=e.outerRadius,c=e.color,l=e.valueFormatted,d=(e.index,25+i+(s-i)),u=t+d*Math.cos(-a*o),h=r+d*Math.sin(-a*o);return(0,n.jsx)("text",{x:u,y:h,fill:c,textAnchor:u>t?"start":"end",dominantBaseline:"central",children:"".concat(l)})},cx:"50%",cy:"50%",fill:"",outerRadius:150,children:r.map((function(e,t){return(0,n.jsx)(p.b,{fill:e.color},"cell-".concat(t))}))}),(0,n.jsx)(m.u,{content:(0,n.jsx)(i,{})}),(0,n.jsx)(f.D,{layout:"horizontal",verticalAlign:"top",align:"center",wrapperStyle:{bottom:-10}})]})})}function ve(e){if(!e.data)return(0,n.jsx)("p",{children:"Waiting for data..."});return(0,n.jsxs)("div",{style:{display:"inline-block"},children:[(0,n.jsx)("p",{children:"Select the Year"}),(0,n.jsx)("select",{onChange:function(t){return e.handleChange(parseInt(t.target.value))},children:e.data.map((function(e,t){return(0,n.jsx)("option",{value:e,children:e},t)}))})]})}function _e(e){if(!e.data)return(0,n.jsx)("p",{children:"Waiting for data..."});return(0,n.jsxs)("div",{style:{display:"inline-block"},children:[(0,n.jsx)("p",{children:"Select an Area of Interest"}),(0,n.jsx)("select",{onChange:function(t){return e.handleChange(parseInt(t.target.value))},children:e.data.metrics.map((function(e,t){return(0,n.jsx)("option",{value:e.area_number,children:e.name},t)}))})]})}function Oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function we(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var De="".concat("https://transithealth.herokuapp.com","/timeline/metrics"),Pe={year:"?",numberOfPermitsFormatted:"?"};function Ce(e){var t=e.data;return(0,n.jsx)(d.h,{width:"100%",height:400,children:(0,n.jsxs)(T.v,{width:400,height:400,data:t,margin:{bottom:30},children:[(0,n.jsx)(M.q,{strokeDasharray:"3 3"}),(0,n.jsx)(E.K,{dataKey:"year"}),(0,n.jsx)(F.B,{}),(0,n.jsx)(B.$,{nameKey:"year",dataKey:"yearly_sidewalk_cafe_permit",fill:"#000000",children:t.map((function(e,t){return(0,n.jsx)(p.b,{fill:e.color},"cell-".concat(t))}))}),(0,n.jsx)(m.u,{}),(0,n.jsx)(f.D,{layout:"horizontal",verticalAlign:"top",align:"center",wrapperStyle:{bottom:-10}})]})})}var ke=r(7757),Se=r.n(ke),Ne=r(2137),Ae=new Intl.DateTimeFormat("en-US",{month:"long",day:"numeric",year:"numeric"}),Te="".concat("https://transithealth.herokuapp.com","/question/sidewalk_search"),Me=[{key:"doing_business_as_name",name:"Business Name"},{key:"zip_code",name:"Zip Code"},{key:"issued_date_dt",name:"Issued On",format:function(e){return Ae.format(new Date("".concat(e," ")))}},{key:"expiration_date",name:"Expires On",format:function(e){return Ae.format(new Date(e))}}];function Ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Fe="".concat("https://transithealth.herokuapp.com","/question/disabilities"),Be=[{key:"station_id",group:"Station",name:"ID"},{key:"station_name",group:"Station",name:"Name"},{key:"ada",group:"Station",name:"ADA"},{key:"avg_trips_before",group:"Rides/Day",name:"Before",format:w.Mb.numberWithCommas,rowClasses:["right"]},{key:"avg_trips_since",group:"Rides/Day",name:"Since",format:w.Mb.numberWithCommas,rowClasses:["right"]},{key:"pct_change_avg_trips",group:"Rides/Day",name:"Change",format:w.Mb.percentChangeWithNoDecimal,rowClasses:["right"],rgb:"136, 34, 85",alpha:function(e){return e/-1}}],Re=[{key:"ada",name:"ADA"},{key:"num_stations",name:"Num Stations"},{key:"avg_trips_before",name:"AVG Trips Before",format:w.Mb.numberWithCommas},{key:"avg_trips_since",name:"AVG Trips After",format:w.Mb.numberWithCommas},{key:"pct_change_avg_trips",name:"%Change",format:w.Mb.percentChangeWithOneDecimal}];function Ze(e){return e.map((function(e){var t=1==e.ada?"Yes":"No",r=(0,w.gB)(e.avg_trips_before,e.avg_trips_since);return We(We({},e),{},(0,c.Z)({pct_change_avg_trips:r,ada:t},t,r))}))}function Ie(e){var t=e.data;return console.log(t),(0,n.jsx)(d.h,{width:"100%",height:400,children:(0,n.jsxs)(T.v,{data:t,margin:{left:30,right:30,bottom:30,top:30},children:[(0,n.jsx)(M.q,{strokeDashArray:"3 3"}),(0,n.jsx)(E.K,{dataKey:"ada",tick:{dy:5},children:(0,n.jsx)(W._,{value:"Accessible",position:"bottom",offset:5})}),(0,n.jsx)(F.B,{type:"number",tickFormatter:w.Mb.percentWithNoDecimal,children:(0,n.jsx)(W._,{value:"%Change in Ridership",position:"left",angle:-90,offset:15,style:{textAnchor:"middle"}})}),(0,n.jsx)(m.u,{formatter:function(e,t,r){return[w.Mb.numberInThousands(e),t,r]}}),(0,n.jsx)(B.$,{dataKey:"avg_trips_before",fill:g}),(0,n.jsx)(B.$,{dataKey:"avg_trips_since",fill:_}),(0,n.jsx)(f.D,{layout:"horizontal",verticalAlign:"top",align:"center",wrapperStyle:{top:5}})]})})}var Ke="".concat("https://transithealth.herokuapp.com","/question/taxitrips"),Le=[{key:"pickup_community_area",name:"Pickup Location"},{key:"dropoff_community_area",name:"Most Common Dropoff Location",rowClasses:["center"]},{key:"max_count",name:"# of Dropoffs",rowClasses:["center"],rgb:"255, 165, 0",alpha:function(e){return e/200}},{key:"percentage",name:"% from Total Dropoffs",format:w.Mb.percentWithOneDecimal,rowClasses:["center"],rgb:"136, 34, 85",alpha:function(e){return e/.5}}];var Je="".concat("https://transithealth.herokuapp.com","/question/taxitrips"),qe=[{key:"pickup_community_area",name:"Pickup Location"},{key:"payment_type",name:"Payment Method",rowClasses:["center"]},{key:"max_count",name:"# of Payments",rowClasses:["center"],rgb:"255, 165, 0",alpha:function(e){return e/450}},{key:"percentage",name:"% from Total Taxi Rides",format:w.Mb.percentWithOneDecimal,rowClasses:["center"],rgb:"136, 34, 85",alpha:function(e){return e/.7}}],ze=[{key:"dropoff_community_area",name:"Dropoff Location"},{key:"payment_type",name:"Payment Method",rowClasses:["center"]},{key:"max_count",name:"# of Payments",rowClasses:["center"],rgb:"255, 165, 0",alpha:function(e){return e/450}},{key:"percentage",name:"% from Total Taxi Rides",format:w.Mb.percentWithOneDecimal,rowClasses:["center"],rgb:"136, 34, 85",alpha:function(e){return e/.7}}];var He={sample:function(){return(0,n.jsx)("div",{children:(0,n.jsx)("p",{children:"This question is still under development. Check back soon!"})})},"template-with-pie-chart":function(e){var t=(0,l.ZP)(C,{},[]),r=t.loading,a=t.error,i=t.data,c=function(e,t){if(!e||t)return{chartData:[],mostTrips:S};var r=e.results.map((function(e){return P(P(P({},e),k[e.transit_mode]||{name:e.transit_mode,color:j}),{},{totalTripsFormatted:w.Mb.numberInMillions(e.total_trips_2019)})})),n=r.reduce((function(e,t){return t.total_trips_2019>e.total_trips_2019?t:e}),{total_trips_2019:0});return{chartData:r,mostTrips:n}}(i,a),d=c.chartData,u=c.mostTrips;return(0,s.useEffect)((function(){e.setContentIsLoading(r)}),[r]),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"center medium-width",children:[(0,n.jsx)("h2",{children:"Total Trips by Transit Type"}),(0,n.jsx)("p",{children:"How do people get around the city?"}),(0,n.jsx)(o.K4,{error:a,data:i})]}),(0,n.jsxs)("div",{className:"center",children:[(0,n.jsx)(N,{data:d}),(0,n.jsx)("br",{})]}),(0,n.jsx)("div",{className:"center medium-width",children:(0,n.jsxs)("p",{children:[(0,n.jsxs)("span",{children:["Based on (fake) data from 2019, ",u.name," is the most popular transit mode, "]}),(0,n.jsxs)("span",{children:["with ",u.totalTripsFormatted," annual trips."]})]})})]})},"pooled-trips":function(e){var t=(0,l.ZP)(V,{},[]),r=t.loading,a=t.error,i=Y(t.data),c=(0,A.Z)(i,2),d=c[0],u=c[1];(0,s.useEffect)((function(){e.setContentIsLoading(r)}),[r]);var h=a?(0,n.jsx)(o.P_,{classes:["Bottom","Wide","Failure"],visible:!0,children:(0,n.jsx)("p",{children:"Failed to get data from server. Please reload."})}):null,p=d.sort((function(e,t){return t.pooled_trip_rate_before-e.pooled_trip_rate_before})),m=p[0],f=p[p.length-1],j=p.length>1?(0,n.jsxs)("p",{className:"center",children:[(0,n.jsx)("span",{className:"bold",children:m.name}),(0,n.jsx)("span",{children:" has the highest rate of pooled trips ("}),(0,n.jsx)("span",{className:"bold",children:w.Mb.percentWithOneDecimal(m.pooled_trip_rate_before)}),(0,n.jsx)("span",{children:") while "}),(0,n.jsx)("span",{className:"bold",children:f.name}),(0,n.jsx)("span",{children:" has the lowest ("}),(0,n.jsx)("span",{className:"bold",children:w.Mb.percentWithOneDecimal(f.pooled_trip_rate_before)}),(0,n.jsx)("span",{children:")."})]}):null;return(0,n.jsxs)("div",{className:"QuestionPooledTrips",children:[(0,n.jsxs)("div",{className:"center medium-width",children:[(0,n.jsx)("h2",{children:"Pooled Trip Rates by Community Area"}),(0,n.jsx)("p",{children:"This chart shows the percentage of all rides that were pooled in the year before COVID, by community area where the rider was picked up."})]}),(0,n.jsx)($,{data:u}),j,(0,n.jsx)("br",{}),(0,n.jsxs)("div",{className:"center medium-width",children:[(0,n.jsx)("h2",{children:"Change Since COVID"}),(0,n.jsx)("p",{children:"This table shows how the average number of trips per day and average cost per trip has changed in each community area since COVID."}),(0,n.jsxs)("p",{children:[(0,n.jsx)("span",{className:"bold",children:"Before"}),(0,n.jsx)("span",{children:" is the 12-month period from February 2019-2020."})]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("span",{className:"bold",children:"After"}),(0,n.jsx)("span",{children:" is the 12-month period from March 2020-2021."})]})]}),(0,n.jsx)(q,{rows:d,cols:Q}),h]})},"rideshares-across-city":function(e){var t=(0,l.ZP)(ee,{},[]),r=t.loading,a=t.error,i=t.data,c=function(e,t){return!e||t?{chartData:[],mostTrips:re}:{chartData:e.filter((function(e){return 2019===e.year})).map((function(e){return X(X({},e),{},{color:te[e.pickup_part]})})),mostTrips:re}}(i,a),d=c.chartData;return c.mostTrips,(0,s.useEffect)((function(){e.setContentIsLoading(r)}),[r]),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"center medium-width",children:[(0,n.jsx)("h2",{children:"Rideshares by Part of City"}),(0,n.jsx)("p",{children:"How do people get around the city?"}),(0,n.jsx)(o.K4,{error:a,data:i})]}),(0,n.jsxs)("div",{className:"center",children:[(0,n.jsx)(ne,{data:d}),(0,n.jsx)("br",{})]}),(0,n.jsx)("div",{className:"center medium-width"})]})},"residents-with-disabilities":function(e){var t=(0,l.ZP)(oe,{method:"POST",body:JSON.stringify({metrics:["disability_rate_2019"]})},[]),r=t.loading,a=t.error,i=t.data;console.log(i);var c=function(e,t,r){if(!e||t)return{chartData:[],areaData:se};var n=e.metrics.map((function(e){return ie(ie({},e),{},{disability_rate_formatted:w.Mb.percentWithOneDecimal(e.disability_rate_2019)})})).filter((function(e){return e.area_number===r}))[0];return{chartData:[{label:"With Disabilities",value:n.disability_rate_2019,color:v},{label:"Without Disabilities",value:1-n.disability_rate_2019,color:x}],areaData:n}}(i,a,47),d=c.chartData,u=c.areaData;return(0,s.useEffect)((function(){e.setContentIsLoading(r)}),[r]),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"center medium-width",children:[(0,n.jsx)("h2",{children:"Disability Rate by Area"}),(0,n.jsxs)("p",{children:["How many residents in ",u.name," have an included disability?"]}),(0,n.jsx)(o.K4,{error:a,data:i})]}),(0,n.jsxs)("div",{className:"center",children:[(0,n.jsx)(ce,{data:d}),(0,n.jsx)("br",{})]}),(0,n.jsx)("div",{className:"center medium-width",children:(0,n.jsx)("p",{children:(0,n.jsxs)("span",{children:["Based on data from 2019, ",u.disability_rate_formatted," of residents in ",u.name," have an included disability."]})})})]})},"belonging-rates":function(e){var t=(0,l.ZP)(ue,{method:"POST",body:JSON.stringify({metrics:["belonging_rate_2018"]})},[]),r=t.loading,a=t.error,i=t.data,c=(0,s.useState)(1),d=c[0],u=c[1],h=function(e,t,r){if(!e||t)return{chartData:[],areaData:he};var n=e.metrics.map((function(e){return de(de({},e),{},{belongingRateFormatted:w.Mb.percentWithOneDecimal(e.belonging_rate_2018)})})).filter((function(e){return e.area_number===r}))[0];return{chartData:[{label:"Feels Belonging",value:n.belonging_rate_2018,valueFormatted:w.Mb.percentWithOneDecimal(n.belonging_rate_2018),color:b},{label:"Does Not Feel Belonging",value:1-n.belonging_rate_2018,valueFormatted:w.Mb.percentWithOneDecimal(1-n.belonging_rate_2018),color:v}],areaData:n}}(i,a,d),p=h.chartData,m=h.areaData;return(0,s.useEffect)((function(){e.setContentIsLoading(r)}),[r]),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"center medium-width",children:[(0,n.jsx)("h2",{children:"Belonging Rate by Area"}),(0,n.jsx)(me,{data:i,handleChange:u}),(0,n.jsxs)("p",{children:["What percentage of residents in ",m.name," feel a sense of belonging?"]}),(0,n.jsx)(o.K4,{error:a,data:i})]}),(0,n.jsxs)("div",{className:"center",children:[(0,n.jsx)(pe,{data:p}),(0,n.jsx)("br",{})]}),(0,n.jsx)("div",{className:"center medium-width",children:(0,n.jsx)("p",{children:(0,n.jsx)(fe,{areaData:m})})})]})},"rent-burden-rates":function(e){var t=(0,l.ZP)(ye,{method:"POST",body:JSON.stringify({metrics:["rent_burdened_2019","rent_burdened_2018","rent_burdened_2017"]})},[]),r=t.loading,a=t.error,i=t.data,c=(0,s.useState)(1),d=c[0],u=c[1],h=(0,s.useState)(2019),p=h[0],m=h[1],f=function(e,t,r,n){if(!e||t)return{chartData:[],areaData:ge};var a=2019===n?"rent_burdened_2019":2018===n?"rent_burdened_2018":2017===n?"rent_burdened_2017":"Error",i=e.metrics.map((function(e){return be(be({},e),{},{rentBurdenRateFormatted:w.Mb.percentWithOneDecimal(e[a])})})).filter((function(e){return e.area_number===r}))[0];return{chartData:[{label:"Rent Burdened Households",value:i[a],valueFormatted:w.Mb.percentWithOneDecimal(i[a]),color:O},{label:"Not Rent Burdened Households",value:1-i[a],valueFormatted:w.Mb.percentWithOneDecimal(1-i[a]),color:g}],areaData:i}}(i,a,d,p),j=f.chartData,b=f.areaData;return(0,s.useEffect)((function(){e.setContentIsLoading(r)}),[r]),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"center medium-width",children:[(0,n.jsx)("h2",{children:"Rent Burdened Households Rate by Area and Year"}),(0,n.jsx)(_e,{data:i,handleChange:u}),(0,n.jsx)(ve,{data:[2019,2018,2017],handleChange:m}),(0,n.jsxs)("p",{children:["What percentage of households in ",b.name," are rent burdened?"]}),(0,n.jsx)(o.K4,{error:a,data:i})]}),(0,n.jsxs)("div",{className:"center",children:[(0,n.jsx)(xe,{data:j}),(0,n.jsx)("br",{})]}),(0,n.jsx)("div",{className:"center medium-width",children:(0,n.jsx)("p",{children:(0,n.jsxs)("span",{children:["Based on data from ",p,", ",b.rentBurdenRateFormatted," of households in ",b.name," are rent burdened."]})})})]})},"sidewalk-cafe-permits-years":function(e){var t=(0,l.ZP)(De,{method:"POST",body:JSON.stringify({metrics:["yearly_sidewalk_cafe_permit"]})},[]),r=t.loading,a=t.error,i=t.data,c=function(e,t){if(!e||t)return{chartData:[],mostPermits:Pe};var r=e.metrics.map((function(e){return we(we({},e),{},{color:b,year:e.date.split("-")[0],numberOfPermitsFormatted:w.Mb.numberWithCommas(e.yearly_sidewalk_cafe_permit)})})),n=r.reduce((function(e,t){return t.yearly_sidewalk_cafe_permit>e.yearly_sidewalk_cafe_permit?t:e}),{yearly_sidewalk_cafe_permit:0});return{chartData:r,mostPermits:n}}(i,a),d=c.chartData,u=c.mostPermits;return(0,s.useEffect)((function(){e.setContentIsLoading(r)}),[r]),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"center medium-width",children:[(0,n.jsx)("h2",{children:"Sidewalk Cafe Permits by Year"}),(0,n.jsx)("p",{children:"City of Chicago has been issuing sidewalk cafe permits since 2001."}),(0,n.jsx)(o.K4,{error:a,data:i})]}),(0,n.jsxs)("div",{className:"center",children:[(0,n.jsx)(Ce,{data:d}),(0,n.jsx)("br",{})]}),(0,n.jsx)("div",{className:"center medium-width",children:(0,n.jsx)("p",{children:(0,n.jsxs)("span",{children:[u.year," had the most permits issued (",u.numberOfPermitsFormatted,")."]})})})]})},"sidewalk-cafe-permit-search":function(e){var t=(0,s.useState)(""),r=t[0],a=t[1],i=(0,s.useState)(""),c=i[0],l=i[1],d=(0,s.useState)(null),u=d[0],h=d[1],p=(0,s.useState)(null),m=p[0],f=p[1],j=(0,s.useState)(!1),b=j[0],y=j[1],g=(null===u||void 0===u?void 0:u.results)||[],x=b?"Searching...":c?g.length>0?"".concat(g.length," results for ").concat(c):"No results for ".concat(c):null;return(0,s.useEffect)((function(){e.setContentIsLoading(!1)}),[]),(0,n.jsxs)("div",{className:"SidewalkCafePermitSearch",children:[(0,n.jsxs)("div",{className:"center medium-width",children:[(0,n.jsx)("p",{children:"Search for permits by restaurant name."}),(0,n.jsx)("input",{className:"SearchInput",type:"text",placeholder:"Search",value:r,onChange:function(e){return a(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&function(){var e=!0;function t(){return(t=(0,Ne.Z)(Se().mark((function e(){var t,n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Te,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({search:r})});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}y(!0),l(r),function(){return t.apply(this,arguments)}().then((function(t){e&&(y(!1),f(null),h(t))})).catch((function(t){e&&(y(!1),f(t),h(null))}))}()}}),(0,n.jsx)("p",{children:x}),(0,n.jsx)(o.K4,{error:m,data:u})]}),(0,n.jsx)(q,{rows:g,cols:Me})]})},"disabilities-and-transportation":function(e){var t=(0,l.ZP)(Fe,{},[]),r=t.loading,a=t.error,i=function(e){if(e){var t=e.cta_area_metrics;return[Ze(e.cta_station_ridership_metrics),Ze(e.cta_change_metrics),t]}return[[],[],[]]}(t.data),c=(0,A.Z)(i,3),d=c[0],u=c[1];c[2],(0,s.useEffect)((function(){e.setContentIsLoading(r)}),[r]);var h=a?(0,n.jsx)(o.P_,{classes:["Bottom","Wide","Failure"],visible:!0,children:(0,n.jsx)("p",{children:"Failed to get data from server. Please reload."})}):null;return(0,n.jsxs)("div",{className:"QuestionCTARidershipChange",children:[(0,n.jsxs)("div",{className:"center medium-width",children:[(0,n.jsx)("h2",{children:"Daily Ridership Change Per CTA Station Since COVID"}),(0,n.jsx)("p",{children:"This table shows the average daily ridership in the year before and the year since COVID per CTA station."}),(0,n.jsxs)("p",{children:[(0,n.jsx)("span",{className:"bold",children:"Before"}),(0,n.jsx)("span",{children:" is the 12-month period from February 2019-2020."})]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("span",{className:"bold",children:"After"}),(0,n.jsx)("span",{children:" is the 12-month period from March 2020-2021."})]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("span",{className:"bold",children:"ADA"}),(0,n.jsx)("span",{children:" refers to the American's with Disabilities Act.  ADA stations are accessible."})]})]}),(0,n.jsx)(q,{rows:d,cols:Be}),(0,n.jsxs)("div",{className:"center medium-width",children:[(0,n.jsx)("br",{}),(0,n.jsx)("hr",{}),(0,n.jsx)("h2",{children:"Ridership Change Based on Station Accessibility"}),(0,n.jsx)("p",{children:"How much of a difference does it make if a station is ADA accessible or not? "})]}),(0,n.jsx)(Ie,{data:u}),(0,n.jsx)("br",{}),(0,n.jsx)(q,{rows:u,cols:Re}),h]})},"taxi-most-common-dropoff":function(e){var t,r=(0,l.ZP)(Ke,{},[]),a=r.loading,i=r.error,c=r.data,d=(t=c)?[t.most_common_dropoff]:[[]],u=(0,A.Z)(d,1)[0];(0,s.useEffect)((function(){e.setContentIsLoading(a)}),[a]);var h=i?(0,n.jsx)(o.P_,{classes:["Bottom","Wide","Failure"],visible:!0,children:(0,n.jsx)("p",{children:"Failed to get data from server. Please reload."})}):null;return(0,n.jsxs)("div",{className:"QuestionMostCommonDropoff",children:[(0,n.jsxs)("div",{className:"center medium-width",children:[(0,n.jsx)("h2",{children:"Most Common Dropoff Locations"}),(0,n.jsx)("p",{children:"This table shows the most common dropoff locations done by taxis for each pickup community area."}),(0,n.jsx)("p",{children:(0,n.jsx)("span",{children:" This is for the 6-month period from January 2021 - July 2021."})})]}),(0,n.jsx)(q,{rows:u,cols:Le}),h]})},"taxi-payment-method":function(e){var t,r=(0,l.ZP)(Je,{},[]),a=r.loading,i=r.error,c=r.data,d=(t=c)?[t.payment_per_pickup,t.payment_per_dropoff]:[[],[]],u=(0,A.Z)(d,2),h=u[0],p=u[1];return(0,s.useEffect)((function(){e.setContentIsLoading(a)}),[a]),(0,n.jsxs)("div",{className:"QuestionPaymentMethod",children:[(0,n.jsxs)("div",{className:"center medium-width",children:[(0,n.jsx)("h2",{children:"Most Popular Payment Method Per Pickup Location"}),(0,n.jsx)("p",{children:"This table shows the most common payment method for taxi trips for every pickup location in Chicago as well as the total amount of taxi rides paid for with that method. "}),(0,n.jsx)("p",{children:(0,n.jsx)("span",{children:" This is for the 6-month period from January 2021 - July 2021."})}),(0,n.jsx)(o.K4,{error:i,data:c})]}),(0,n.jsx)(q,{rows:h,cols:qe}),(0,n.jsxs)("div",{className:"center medium-width",children:[(0,n.jsx)("h2",{children:"Most Popular Payment Method Per Dropoff Location"}),(0,n.jsx)("p",{children:"This table shows the most common payment method for taxi trips for every Dropoff location in Chicago as well as the total amount of taxi rides paid for with that method. "}),(0,n.jsx)("p",{children:(0,n.jsx)("span",{children:" This is for the 6-month period from January 2021 - July 2021."})})]}),(0,n.jsx)(q,{rows:p,cols:ze})]})}};var Ve=!0;function Ge(e){var t=(0,s.useState)(!0),r=t[0],c=t[1],l=He[e.component];return(0,n.jsxs)("div",{children:[(0,n.jsxs)(a.default,{children:[(0,n.jsx)("title",{children:"TransitHealth"}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,n.jsx)("meta",{name:"description",content:"Explore transit and public health data across Chicago."}),(0,n.jsx)("link",{rel:"icon",href:"favicon.ico"})]}),(0,n.jsx)(i.Z,{}),(0,n.jsx)("main",{className:"QuestionLayout",children:(0,n.jsxs)("div",{className:"page",children:[(0,n.jsxs)("div",{className:"center medium-width",children:[(0,n.jsx)("h1",{children:e.title}),(0,n.jsxs)("p",{children:["By ",e.author]}),(0,n.jsx)("p",{children:e.description}),(0,n.jsx)("hr",{})]}),(0,n.jsx)("div",{className:r?"block":"hidden",children:(0,n.jsx)("p",{className:"center",children:"Loading..."})}),(0,n.jsx)("div",{className:r?"hidden":"block",children:(0,n.jsx)(l,{setContentIsLoading:c})}),(0,n.jsx)("br",{})]})}),(0,n.jsx)(o.k7,{})]})}},7277:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/questions/[id]",function(){return r(8052)}])}},function(e){e.O(0,[774,351,197,238,9,172,306],(function(){return t=7277,e(e.s=t);var t}));var t=e.O();_N_E=t}]);