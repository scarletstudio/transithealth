(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{2815:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(5893),a=r(7294),i=r(8911),c=r(2787),s=r(3909),o=r(1084);function u(e){var t=e.width?e.width:e.height?.8*e.height:300,r=e.height?e.height:e.width?e.width/.8:375,u=[t/2,r/2],l=t/300,h=r/375,f=e.scale||4e4*Math.max(l,h),p=e.offsetX||-.0475,d=(0,i.Z)(e.communityAreas),m=[d[0]+p,d[1]],j=(0,c.ZP)().center(m).scale(f).translate(u),x=e.defaultOpacity||1,v=e.onAreaClick?(0,o.D)(100,e.onAreaClick):null,b=e.onAreaHover?(0,o.D)(100,e.onAreaHover):null,y=e.communityAreas.features,_=e.data||{},w=(0,a.useState)(e.selectedAreaNumber),O=w[0],g=w[1];(0,a.useEffect)((function(){g(e.selectedAreaNumber)}),[e.selectedAreaNumber]);var k=["ChicagoMap",Object.keys(_).length>0?"HasData":"NoData"].join(" ");return(0,n.jsx)("div",{className:k,children:(0,n.jsx)("svg",{width:t,height:r,viewBox:"0 0 ".concat(t," ").concat(r),children:(0,n.jsx)("g",{className:"areas",children:y.map((function(e,t){var r=e.properties,a=_[r.number]||{};return(0,n.jsx)("path",{className:"CommunityArea ".concat(O===r.number?"Selected":""),d:(0,s.Z)().projection(j)(e),fill:a.fill,fillOpacity:a.opacity||x,onClick:function(e){g(r.number),v&&v(r)},onMouseEnter:function(e){b&&b(r)}},"path-".concat(t))}))})})})}},9187:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(5893),a=r(1664);function i(){return(0,n.jsxs)("nav",{children:[(0,n.jsx)(a.default,{href:"/",children:"Home"}),(0,n.jsx)(a.default,{href:"/explorer",children:"Explorer"}),(0,n.jsx)(a.default,{href:"/questions",children:"Questions"}),(0,n.jsx)(a.default,{href:"/about",children:"About"})]})}},3795:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return j},default:function(){return x}});var n=r(5893),a=r(9008),i=r(9187),c=r(7757),s=r.n(c),o=r(2137),u=r(6156),l=r(7294),h=r(2815);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e){var t=e.reduce((function(e,t){return Math.max(e,t.total_trips)}),0);return e.map((function(e){var r=e.total_trips/t;return p(p({},e),{},{opacity:Math.max(r,.05)})})).reduce((function(e,t){return e[t.pickup_community_area]=t,e}),{})}function m(e){var t=e.communityAreas,r=(0,l.useState)(null),a=r[0],i=r[1],c=(0,l.useState)({}),u=c[0],f=c[1];(0,l.useEffect)((function(){var e=!0;function t(){return(t=(0,o.Z)(s().mark((function t(){var r,n,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat("https://transithealth.herokuapp.com","/rideshare/total_trips_by_pickup_area"));case 2:return r=t.sent,t.next=5,r.json();case 5:n=t.sent,a=d(n),e&&i(a);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){return e=!1}}),[]);var p=a&&u.number?a[u.number]:{},m="".concat(p.total_trips?p.total_trips.toLocaleString():"?"," total rideshare pickups.");return(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{children:"Total Rideshare Trips"}),(0,n.jsx)("p",{children:"Pick a community area from the map."}),(0,n.jsx)(h.Z,{data:a,communityAreas:t,height:400,defaultOpacity:1,onAreaClick:f}),(0,n.jsx)("h3",{children:u.name}),(0,n.jsx)("p",{children:u.name?m:""})]})}var j=!0;function x(e){var t=e.communityAreas;return(0,n.jsxs)("div",{children:[(0,n.jsxs)(a.default,{children:[(0,n.jsx)("title",{children:"TransitHealth"}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,n.jsx)("meta",{name:"description",content:"Explore transit and public health data across Chicago."}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsx)(i.Z,{}),(0,n.jsx)("main",{className:"Home",children:(0,n.jsxs)("div",{className:"page",children:[(0,n.jsx)("h1",{children:"TransitHealth"}),(0,n.jsx)(m,{communityAreas:t})]})})]})}},8581:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(3795)}])}},function(e){e.O(0,[774,351,996,120],(function(){return t=8581,e(e.s=t);var t}));var t=e.O();_N_E=t}]);