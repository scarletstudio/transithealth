(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{2815:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(5893),a=r(7294),c=r(8911),i=r(2787),o=r(3909),s=r(1084);function u(e){var t=e.width?e.width:e.height?.8*e.height:300,r=e.height?e.height:e.width?e.width/.8:375,u=[t/2,r/2],l=t/300,h=r/375,f=e.scale||4e4*Math.max(l,h),p=e.offsetX||-.0475,d=(0,c.Z)(e.communityAreas),m=[d[0]+p,d[1]],j=(0,i.ZP)().center(m).scale(f).translate(u),x=e.defaultOpacity||1,b=e.onAreaClick?(0,s.D)(100,e.onAreaClick):null,v=e.onAreaHover?(0,s.D)(100,e.onAreaHover):null,y=e.communityAreas.features,_=e.data||{},O=(0,a.useState)(e.selectedAreaNumber),g=O[0],w=O[1];(0,a.useEffect)((function(){w(e.selectedAreaNumber)}),[e.selectedAreaNumber]);var k=["ChicagoMap",Object.keys(_).length>0?"HasData":"NoData"].join(" ");return(0,n.jsx)("div",{className:k,children:(0,n.jsx)("svg",{width:t,height:r,viewBox:"0 0 ".concat(t," ").concat(r),children:(0,n.jsx)("g",{className:"areas",children:y.map((function(e,t){var r=e.properties,a=_[r.number]||{};return(0,n.jsx)("path",{className:"CommunityArea ".concat(g===r.number?"Selected":""),d:(0,o.Z)().projection(j)(e),fill:a.fill,fillOpacity:a.opacity||x,onClick:function(e){w(r.number),b&&b(r)},onMouseEnter:function(e){v&&v(r)}},"path-".concat(t))}))})})})}},9187:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(5893),a=r(1664);function c(){return(0,n.jsxs)("nav",{children:[(0,n.jsx)(a.default,{href:"/",children:"Home"}),(0,n.jsx)(a.default,{href:"/explorer",children:"Explorer"}),(0,n.jsx)(a.default,{href:"/questions",children:"Questions"}),(0,n.jsx)(a.default,{href:"/about",children:"About"})]})}},8474:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return m},default:function(){return j}});var n=r(5893),a=r(7757),c=r.n(a),i=r(2137),o=r(6156),s=r(9008),u=r(7294),l=r(9187),h=r(2815);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e){var t=e.reduce((function(e,t){return Math.max(e,t.total_trips)}),0);return e.map((function(e){var r=e.total_trips/t;return p(p({},e),{},{opacity:Math.max(r,.05)})})).reduce((function(e,t){return e[t.pickup_community_area]=t,e}),{})}var m=!0;function j(e){var t=e.communityAreas,r=(0,u.useState)(null),a=r[0],o=r[1],f=(0,u.useState)({}),p=f[0],m=f[1];(0,u.useEffect)((function(){var e=!0;function t(){return(t=(0,i.Z)(c().mark((function t(){var r,n,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat("https://transithealth.herokuapp.com","/rideshare/total_trips_by_pickup_area"));case 2:return r=t.sent,t.next=5,r.json();case 5:n=t.sent,a=d(n),e&&o(a);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){return e=!1}}),[]);var j=a&&p.number?a[p.number]:{},x="".concat(j.total_trips?j.total_trips.toLocaleString():"?"," total rideshare pickups.");return(0,n.jsxs)("div",{children:[(0,n.jsxs)(s.default,{children:[(0,n.jsx)("title",{children:"TransitHealth"}),(0,n.jsx)("meta",{name:"description",content:"Explore transit and public health data across Chicago."}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsx)(l.Z,{}),(0,n.jsx)("main",{className:"Home",children:(0,n.jsxs)("div",{className:"page",children:[(0,n.jsx)("h1",{children:"TransitHealth"}),(0,n.jsx)("h2",{children:"Total Rideshare Trips"}),(0,n.jsx)("p",{children:"Pick a community area from the map."}),(0,n.jsx)(h.Z,{data:a,communityAreas:t,height:400,defaultOpacity:1,onAreaClick:m}),(0,n.jsx)("h3",{children:p.name}),(0,n.jsx)("p",{children:p.name?x:""})]})})]})}},8581:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(8474)}])}},function(e){e.O(0,[774,351,996,120],(function(){return t=8581,e(e.s=t);var t}));var t=e.O();_N_E=t}]);